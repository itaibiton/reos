---
phase: 31-translation-infrastructure
plan: 06
type: execute
wave: 2
depends_on: ["31-01"]
files_modified:
  - messages/en.json
  - src/app/[locale]/(app)/chat/page.tsx
  - src/app/[locale]/(app)/feed/page.tsx
  - src/components/chat/ChatInput.tsx
  - src/components/chat/ChatPane.tsx
  - src/components/chat/ChatLayoutContainer.tsx
  - src/components/chat/LayoutModeSelector.tsx
  - src/components/chat/LeaveGroupDialog.tsx
  - src/components/chat/DeleteGroupDialog.tsx
  - src/components/feed/CreatePostDialog.tsx
  - src/components/feed/PostCard.tsx
  - src/components/feed/EngagementFooter.tsx
  - src/components/feed/CommentSection.tsx
  - src/components/feed/ShareButton.tsx
  - src/components/feed/FollowButton.tsx
  - src/components/feed/FollowStats.tsx
autonomous: true

must_haves:
  truths:
    - "Chat page shows translated labels"
    - "Feed page shows translated content"
    - "Post creation dialog uses translations"
  artifacts:
    - path: "messages/en.json"
      provides: "chat and feed namespaces"
      contains: '"chat":'
  key_links:
    - from: "src/app/[locale]/(app)/chat/page.tsx"
      to: "messages/en.json"
      via: "useTranslations('chat')"
      pattern: "useTranslations.*chat"
---

<objective>
Add chat and feed namespaces and translate messaging and social feed features.

Purpose: Chat and feed are social features with ~80 combined strings across messaging, posts, and engagement.

Output: chat and feed namespaces in en.json, all chat/feed pages and components using useTranslations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/milestones/v1.4-ROADMAP.md
@.planning/phases/31-translation-infrastructure/31-RESEARCH.md
@messages/en.json
@src/app/[locale]/(app)/chat/page.tsx
@src/app/[locale]/(app)/feed/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add chat and feed namespaces</name>
  <files>messages/en.json</files>
  <action>
Add `chat` and `feed` namespaces to messages/en.json.

```json
"chat": {
  "title": "Chat",
  "messages": "Messages",

  "modes": {
    "deals": "Deal Chats",
    "direct": "Direct Messages",
    "groups": "Group Chats"
  },

  "input": {
    "placeholder": "Type a message...",
    "send": "Send",
    "sendMessage": "Send message"
  },

  "layout": {
    "single": "Single",
    "split": "Split View",
    "quad": "Quad View",
    "selectMode": "Select Layout"
  },

  "pane": {
    "selectDeal": "Select a deal",
    "selectConversation": "Select a conversation",
    "dragHere": "Drag a conversation here",
    "emptyPane": "Empty pane"
  },

  "participants": {
    "title": "Participants",
    "online": "Online",
    "offline": "Offline",
    "typing": "typing...",
    "unread": "{count} unread"
  },

  "group": {
    "create": "Create Group",
    "name": "Group Name",
    "addMembers": "Add Members",
    "leave": "Leave Group",
    "leaveConfirm": "Are you sure you want to leave this group?",
    "delete": "Delete Group",
    "deleteConfirm": "Are you sure you want to delete this group? This cannot be undone."
  },

  "empty": {
    "noMessages": "No messages yet",
    "startConversation": "Start a conversation",
    "noChats": "No chats yet",
    "selectChat": "Select a chat to start messaging"
  },

  "time": {
    "justNow": "Just now",
    "minutesAgo": "{count} min ago",
    "hoursAgo": "{count}h ago",
    "yesterday": "Yesterday",
    "daysAgo": "{count}d ago"
  }
},

"feed": {
  "title": "Feed",
  "createPost": "Create Post",

  "tabs": {
    "global": "Global",
    "following": "Following"
  },

  "filters": {
    "all": "All",
    "properties": "Properties",
    "services": "Service Requests",
    "discussions": "Discussions"
  },

  "post": {
    "types": {
      "property": "Property Listing",
      "serviceRequest": "Service Request",
      "discussion": "Discussion"
    },
    "selectProperty": "Select Property",
    "serviceType": "Service Type",
    "visibility": "Visibility",
    "visibilityOptions": {
      "public": "Public",
      "followersOnly": "Followers Only",
      "dealParticipants": "Deal Participants"
    },
    "content": "Content",
    "contentPlaceholder": "What's on your mind?",
    "post": "Post",
    "posting": "Posting..."
  },

  "engagement": {
    "like": "Like",
    "liked": "Liked",
    "comment": "Comment",
    "comments": "Comments",
    "share": "Share",
    "save": "Save",
    "saved": "Saved",
    "repost": "Repost"
  },

  "comments": {
    "title": "Comments",
    "placeholder": "Write a comment...",
    "post": "Post",
    "loadMore": "Load more comments",
    "noComments": "No comments yet",
    "beFirst": "Be the first to comment"
  },

  "share": {
    "title": "Share",
    "copyLink": "Copy Link",
    "copied": "Link copied!",
    "shareOn": "Share on"
  },

  "follow": {
    "follow": "Follow",
    "following": "Following",
    "unfollow": "Unfollow",
    "followers": "Followers",
    "followersCount": "{count} followers",
    "followingCount": "{count} following"
  },

  "empty": {
    "noPosts": "No posts yet",
    "noFollowingPosts": "No posts from people you follow",
    "followMore": "Follow more people to see their posts",
    "createFirst": "Be the first to post"
  },

  "card": {
    "viewProperty": "View Property",
    "viewDetails": "View Details",
    "postedBy": "Posted by",
    "lookingFor": "Looking for"
  }
}
```

Keep existing namespaces intact.
  </action>
  <verify>
Run: `node -e "const m = require('./messages/en.json'); console.log(['chat', 'feed'].filter(k => m[k]).join(', '))"`
Should output: chat, feed
  </verify>
  <done>chat and feed namespaces added to en.json</done>
</task>

<task type="auto">
  <name>Task 2: Translate chat page and components</name>
  <files>
    src/app/[locale]/(app)/chat/page.tsx
    src/components/chat/ChatInput.tsx
    src/components/chat/ChatPane.tsx
    src/components/chat/ChatLayoutContainer.tsx
    src/components/chat/LayoutModeSelector.tsx
    src/components/chat/LeaveGroupDialog.tsx
    src/components/chat/DeleteGroupDialog.tsx
  </files>
  <action>
Update chat page and components to use translations.

**chat/page.tsx:**
1. Add `useTranslations("chat")` import and hook
2. Replace:
   - "Chat" -> `t("title")`
   - Mode labels -> `t("modes.deals")`, `t("modes.direct")`
   - Empty states -> `t("empty.noChats")`, `t("empty.selectChat")`

**ChatInput.tsx:**
1. Add translations
2. Replace:
   - Placeholder -> `t("input.placeholder")`
   - Send button -> `t("input.send")`

**ChatPane.tsx:**
1. Add translations
2. Replace:
   - "Select a deal" -> `t("pane.selectDeal")`
   - "Drag here" -> `t("pane.dragHere")`

**ChatLayoutContainer.tsx:**
1. Add translations
2. Replace layout-related labels

**LayoutModeSelector.tsx:**
1. Add translations
2. Replace:
   - Layout mode names -> `t("layout.single")`, `t("layout.split")`, `t("layout.quad")`

**LeaveGroupDialog.tsx and DeleteGroupDialog.tsx:**
1. Add translations
2. Replace:
   - Dialog titles -> `t("group.leave")`, `t("group.delete")`
   - Confirmation text -> `t("group.leaveConfirm")`, `t("group.deleteConfirm")`
  </action>
  <verify>
Run: `grep -c "useTranslations" src/app/\[locale\]/\(app\)/chat/page.tsx src/components/chat/*.tsx | grep -v ":0"`
Should show counts for multiple chat files
  </verify>
  <done>Chat page and components use translations</done>
</task>

<task type="auto">
  <name>Task 3: Translate feed page and components</name>
  <files>
    src/app/[locale]/(app)/feed/page.tsx
    src/components/feed/CreatePostDialog.tsx
    src/components/feed/PostCard.tsx
    src/components/feed/EngagementFooter.tsx
    src/components/feed/CommentSection.tsx
    src/components/feed/ShareButton.tsx
    src/components/feed/FollowButton.tsx
    src/components/feed/FollowStats.tsx
    src/components/feed/PropertyPostCard.tsx
    src/components/feed/ServiceRequestPostCard.tsx
    src/components/feed/DiscussionPostCard.tsx
  </files>
  <action>
Update feed page and components to use translations.

**feed/page.tsx:**
1. Add `useTranslations("feed")` import and hook
2. Replace:
   - "Feed" -> `t("title")`
   - "Create Post" -> `t("createPost")`
   - Tab labels -> `t("tabs.global")`, `t("tabs.following")`
   - Filter labels -> `t("filters.all")`, `t("filters.properties")`, etc.
   - Empty states -> `t("empty.noPosts")`, etc.

**CreatePostDialog.tsx:**
1. Add translations
2. Replace:
   - Post type labels -> `t("post.types.property")`, etc.
   - Visibility labels -> `t("post.visibilityOptions.public")`, etc.
   - Placeholder -> `t("post.contentPlaceholder")`
   - Button -> `t("post.post")`

**EngagementFooter.tsx:**
1. Add translations
2. Replace:
   - "Like"/"Liked" -> `t("engagement.like")`, `t("engagement.liked")`
   - "Comment" -> `t("engagement.comment")`
   - "Share" -> `t("engagement.share")`
   - "Save"/"Saved" -> `t("engagement.save")`, `t("engagement.saved")`

**CommentSection.tsx:**
1. Add translations
2. Replace:
   - Placeholder -> `t("comments.placeholder")`
   - "Post" button -> `t("comments.post")`
   - "Load more" -> `t("comments.loadMore")`
   - Empty state -> `t("comments.noComments")`

**ShareButton.tsx:**
1. Add translations
2. Replace share-related labels

**FollowButton.tsx and FollowStats.tsx:**
1. Add translations
2. Replace:
   - "Follow"/"Following" -> `t("follow.follow")`, `t("follow.following")`
   - Follower counts -> `t("follow.followersCount", { count })`

**PostCard.tsx and type-specific cards:**
1. Add translations to dispatcher and specific card types
2. Replace any hardcoded labels
  </action>
  <verify>
Run: `grep -c "useTranslations" src/app/\[locale\]/\(app\)/feed/page.tsx src/components/feed/*.tsx | grep -v ":0"`
Should show counts for multiple feed files
  </verify>
  <done>Feed page and components use translations</done>
</task>

</tasks>

<verification>
1. messages/en.json parses without error
2. chat and feed namespaces exist with expected keys
3. All chat/feed pages and components compile
4. Dev server shows translated chat and feed content
5. No hardcoded English strings on chat/feed pages
</verification>

<success_criteria>
1. chat namespace exists with ~40 translation keys
2. feed namespace exists with ~40 translation keys
3. Chat page and all chat components use useTranslations
4. Feed page and all feed components use useTranslations
5. Zero hardcoded user-facing strings on chat/feed pages
</success_criteria>

<output>
After completion, create `.planning/phases/31-translation-infrastructure/31-06-SUMMARY.md`
</output>
