---
phase: 31-translation-infrastructure
plan: 03
type: execute
wave: 2
depends_on: ["31-01"]
files_modified:
  - messages/en.json
  - src/app/[locale]/(app)/properties/page.tsx
  - src/app/[locale]/(app)/properties/[id]/page.tsx
  - src/app/[locale]/(app)/properties/new/page.tsx
  - src/app/[locale]/(app)/properties/saved/page.tsx
  - src/app/[locale]/(app)/properties/listings/page.tsx
  - src/components/properties/PropertyAmenities.tsx
  - src/components/properties/NeighborhoodInfo.tsx
  - src/components/properties/SaveButton.tsx
autonomous: true

must_haves:
  truths:
    - "Property listing page shows translated labels"
    - "Property detail page shows translated content"
    - "Property forms use translated field labels"
  artifacts:
    - path: "messages/en.json"
      provides: "properties namespace"
      contains: '"properties":'
  key_links:
    - from: "src/app/[locale]/(app)/properties/page.tsx"
      to: "messages/en.json"
      via: "useTranslations('properties')"
      pattern: "useTranslations.*properties"
---

<objective>
Add properties namespace and translate all property-related pages and components.

Purpose: Properties is a core feature with ~60 strings across listing, detail, and form pages.

Output: properties namespace in en.json, all property pages using useTranslations.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/milestones/v1.4-ROADMAP.md
@.planning/phases/31-translation-infrastructure/31-RESEARCH.md
@messages/en.json
@src/app/[locale]/(app)/properties/page.tsx
@src/app/[locale]/(app)/properties/[id]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add properties namespace to en.json</name>
  <files>messages/en.json</files>
  <action>
Add a `properties` namespace to messages/en.json.

Scan all property-related files for hardcoded strings and add translation keys:

```json
"properties": {
  "title": "Properties",
  "browseTitle": "Browse Properties",
  "savedTitle": "Saved Properties",
  "listingsTitle": "Your Listings",
  "newTitle": "Add New Property",
  "editTitle": "Edit Property",

  "card": {
    "bedrooms": "{count} bedrooms",
    "bathrooms": "{count} bathrooms",
    "size": "{size} sqm",
    "price": "Price",
    "priceUsd": "USD",
    "priceIls": "ILS",
    "location": "Location",
    "type": "Type",
    "status": "Status",
    "viewDetails": "View Details",
    "save": "Save",
    "saved": "Saved",
    "unsave": "Remove from Saved"
  },

  "details": {
    "description": "Description",
    "amenities": "Amenities",
    "location": "Location",
    "investment": "Investment Details",
    "area": "Area Info",
    "overview": "Overview",
    "contactAgent": "Contact Agent",
    "startDeal": "Start Deal",
    "editProperty": "Edit Property"
  },

  "form": {
    "title": "Title",
    "titlePlaceholder": "Enter property title",
    "description": "Description",
    "descriptionPlaceholder": "Describe the property",
    "price": "Price (USD)",
    "address": "Address",
    "city": "City",
    "propertyType": "Property Type",
    "status": "Status",
    "bedrooms": "Bedrooms",
    "bathrooms": "Bathrooms",
    "size": "Size (sqm)",
    "yearBuilt": "Year Built",
    "floor": "Floor",
    "totalFloors": "Total Floors",
    "amenities": "Amenities",
    "images": "Images",
    "uploadImages": "Upload Images",
    "save": "Save Property",
    "create": "Create Property",
    "update": "Update Property"
  },

  "filters": {
    "title": "Filters",
    "priceRange": "Price Range",
    "minPrice": "Min Price",
    "maxPrice": "Max Price",
    "bedrooms": "Bedrooms",
    "bathrooms": "Bathrooms",
    "propertyType": "Property Type",
    "city": "City",
    "anyType": "Any Type",
    "anyCity": "Any City",
    "apply": "Apply Filters",
    "clear": "Clear Filters",
    "showFavorites": "Show Favorites Only"
  },

  "empty": {
    "noProperties": "No properties found",
    "noSaved": "No saved properties yet",
    "noListings": "You haven't listed any properties yet",
    "tryDifferentFilters": "Try adjusting your filters",
    "startBrowsing": "Start browsing properties",
    "createFirst": "Create your first listing"
  },

  "neighborhood": {
    "title": "Neighborhood Info",
    "schools": "Schools",
    "transport": "Public Transport",
    "shopping": "Shopping",
    "restaurants": "Restaurants",
    "parks": "Parks"
  },

  "investment": {
    "title": "Investment Details",
    "expectedRoi": "Expected ROI",
    "rentalYield": "Rental Yield",
    "appreciation": "Appreciation Potential",
    "monthlyRent": "Est. Monthly Rent"
  },

  "tabs": {
    "overview": "Overview",
    "amenities": "Amenities",
    "investment": "Investment",
    "area": "Area"
  }
}
```

Keep existing namespaces intact.
  </action>
  <verify>
Run: `node -e "const m = require('./messages/en.json'); console.log(Object.keys(m.properties).join(', '))"`
Should output: title, browseTitle, savedTitle, listingsTitle, newTitle, editTitle, card, details, form, filters, empty, neighborhood, investment, tabs
  </verify>
  <done>properties namespace added with all property-related translation keys</done>
</task>

<task type="auto">
  <name>Task 2: Translate property pages</name>
  <files>
    src/app/[locale]/(app)/properties/page.tsx
    src/app/[locale]/(app)/properties/[id]/page.tsx
    src/app/[locale]/(app)/properties/new/page.tsx
    src/app/[locale]/(app)/properties/saved/page.tsx
    src/app/[locale]/(app)/properties/listings/page.tsx
    src/app/[locale]/(app)/properties/[id]/edit/page.tsx
  </files>
  <action>
Update all property page files to use translations.

For each file:

1. Add import:
```typescript
import { useTranslations } from "next-intl";
```

2. Get translator at component start:
```typescript
const t = useTranslations("properties");
```

3. Replace hardcoded strings with translation calls:
- Page titles: `t("browseTitle")`, `t("savedTitle")`, etc.
- Tab labels: `t("tabs.overview")`, `t("tabs.amenities")`, etc.
- Button text: `t("details.startDeal")`, `t("details.editProperty")`, etc.
- Empty states: `t("empty.noProperties")`, `t("empty.noSaved")`, etc.
- Form labels: `t("form.title")`, `t("form.price")`, etc.

For strings with variables, use interpolation:
```typescript
t("card.bedrooms", { count: property.bedrooms })
```

For common strings already in common namespace, use:
```typescript
const tCommon = useTranslations("common");
tCommon("actions.save")
```

Focus on user-facing text only. Skip technical strings like className, test IDs.
  </action>
  <verify>
Run: `grep -l "useTranslations" src/app/\[locale\]/\(app\)/properties/*.tsx src/app/\[locale\]/\(app\)/properties/*/*.tsx 2>/dev/null | wc -l`
Should be >= 5 (all property pages use translations)
  </verify>
  <done>All property pages use useTranslations for user-facing strings</done>
</task>

<task type="auto">
  <name>Task 3: Translate property components</name>
  <files>
    src/components/properties/PropertyAmenities.tsx
    src/components/properties/NeighborhoodInfo.tsx
    src/components/properties/SaveButton.tsx
  </files>
  <action>
Update property components to use translations.

For each component:

1. Add import:
```typescript
import { useTranslations } from "next-intl";
```

2. Get translator:
```typescript
const t = useTranslations("properties");
```

3. Replace hardcoded strings:

**PropertyAmenities.tsx:**
- Section title: `t("details.amenities")`
- Amenity labels: Use common namespace `tCommon("amenities.{amenityKey}")`

**NeighborhoodInfo.tsx:**
- Section title: `t("neighborhood.title")`
- Category labels: `t("neighborhood.schools")`, etc.

**SaveButton.tsx:**
- Tooltip/aria-label: `t("card.save")`, `t("card.saved")`
  </action>
  <verify>
Run: `grep -c "useTranslations" src/components/properties/*.tsx`
Should show counts for each property component file
  </verify>
  <done>Property components use useTranslations for user-facing strings</done>
</task>

</tasks>

<verification>
1. messages/en.json parses without error
2. properties namespace has all expected sections
3. All property pages compile without TypeScript errors
4. Dev server shows translated property content
5. No hardcoded English strings visible on property pages
</verification>

<success_criteria>
1. properties namespace exists with 60+ translation keys
2. All property pages use useTranslations
3. All property components use useTranslations
4. Zero hardcoded user-facing strings on property pages
</success_criteria>

<output>
After completion, create `.planning/phases/31-translation-infrastructure/31-03-SUMMARY.md`
</output>
