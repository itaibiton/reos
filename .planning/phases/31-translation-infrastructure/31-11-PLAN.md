---
phase: 31-translation-infrastructure
plan: 11
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/[locale]/(app)/properties/saved/page.tsx
  - src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx
  - messages/en.json
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "properties/saved/page.tsx uses translations for empty state text"
    - "profile/investor/questionnaire/page.tsx uses translations for page header and error states"
    - "All hardcoded user-facing strings replaced with translation calls"
  artifacts:
    - path: "src/app/[locale]/(app)/properties/saved/page.tsx"
      provides: "Translated saved properties page"
      contains: "useTranslations"
    - path: "src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx"
      provides: "Translated edit questionnaire page"
      contains: "useTranslations"
  key_links:
    - from: "saved/page.tsx"
      to: "en.json"
      via: "useTranslations('properties')"
      pattern: "t\\(.*saved"
---

<objective>
Translate pages identified as missing translations in verification report.

Purpose: Close the secondary gap where 2 pages have hardcoded strings.
Output: 2 pages with full translation support.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/milestones/v1.4-ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-translation-infrastructure/31-VERIFICATION.md

Note: properties namespace already exists with save.empty section
Note: onboarding namespace already exists
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add missing translations to en.json</name>
  <files>messages/en.json</files>
  <action>
Add translations for saved properties page and edit questionnaire page.

Under properties namespace, add/update saved section:
```json
"properties": {
  ...existing...,
  "saved": {
    "title": "Saved Properties",
    "count": "{count} saved {count, plural, =1 {property} other {properties}}",
    "empty": {
      "title": "No saved properties",
      "description": "Browse the marketplace and save properties you're interested in to view them here.",
      "cta": "Browse Marketplace"
    }
  }
}
```

Under onboarding namespace, add editProfile section:
```json
"onboarding": {
  ...existing...,
  "editProfile": {
    "title": "Edit Investment Profile",
    "backToProfile": "Back to Profile",
    "noQuestionnaire": "No questionnaire found. Please complete onboarding first.",
    "goToOnboarding": "Go to Onboarding",
    "saveSuccess": "Profile updated successfully!",
    "saveError": "Failed to save profile. Please try again."
  }
}
```
  </action>
  <verify>npm run build passes, no JSON syntax errors</verify>
  <done>en.json has translations for saved properties page and edit questionnaire page</done>
</task>

<task type="auto">
  <name>Task 2: Translate properties/saved/page.tsx</name>
  <files>src/app/[locale]/(app)/properties/saved/page.tsx</files>
  <action>
Add translations to the saved properties page:

1. Add import: `import { useTranslations } from "next-intl";`

2. Add hook: `const t = useTranslations("properties.saved");`

3. Replace hardcoded strings:

For empty state:
```tsx
<h2 className="text-xl font-semibold mb-2">{t("empty.title")}</h2>
<p className="text-muted-foreground mb-6 max-w-md">
  {t("empty.description")}
</p>
<Button onClick={() => router.push("/properties")} variant="outline">
  {t("empty.cta")}
</Button>
```

For properties count:
```tsx
<p className="text-sm text-muted-foreground mb-4">
  {t("count", { count: properties.length })}
</p>
```

Note: Use locale-aware Link from @/i18n/navigation for the button href if converting to Link.
  </action>
  <verify>npm run build passes, page renders with translations</verify>
  <done>properties/saved/page.tsx uses useTranslations with no hardcoded strings</done>
</task>

<task type="auto">
  <name>Task 3: Translate profile/investor/questionnaire/page.tsx</name>
  <files>src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx</files>
  <action>
Add translations to the edit questionnaire page:

1. Add import: `import { useTranslations } from "next-intl";`

2. Add hook: `const t = useTranslations("onboarding.editProfile");`

3. Replace hardcoded strings:

For header section:
```tsx
<Link href="/profile/investor" className="...">
  <HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="rtl:-scale-x-100" />
  {t("backToProfile")}
</Link>
<h1 className="text-2xl font-bold mt-2">{t("title")}</h1>
```

For no questionnaire state:
```tsx
<p className="text-muted-foreground">
  {t("noQuestionnaire")}
</p>
<Link href="/onboarding" className="text-primary hover:underline mt-2 inline-block">
  {t("goToOnboarding")}
</Link>
```

For toast messages:
```tsx
toast.success(t("saveSuccess"));
toast.error(t("saveError"));
```

Note: Use locale-aware Link from @/i18n/navigation for internal links.
  </action>
  <verify>npm run build passes, page renders with translations</verify>
  <done>profile/investor/questionnaire/page.tsx uses useTranslations with no hardcoded strings</done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build` completes without errors
2. Each modified file imports useTranslations from next-intl
3. Each modified file has zero hardcoded user-facing English strings
4. Translation keys exist in messages/en.json for all used keys
</verification>

<success_criteria>
- properties/saved/page.tsx uses translations for empty state text and count
- profile/investor/questionnaire/page.tsx uses translations for header and error states
- No hardcoded English strings remain in these pages
- Build succeeds with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/31-translation-infrastructure/31-11-SUMMARY.md`
</output>
