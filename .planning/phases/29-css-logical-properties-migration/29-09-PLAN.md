---
phase: 29-css-logical-properties-migration
plan: 09
type: execute
wave: 3
depends_on: ["29-04", "29-05", "29-06", "29-07", "29-08"]
files_modified:
  - src/app/[locale]/(app)/deals/[id]/page.tsx
  - src/app/[locale]/(app)/deals/page.tsx
  - src/app/[locale]/(app)/properties/[id]/page.tsx
  - src/app/[locale]/(app)/dashboard/page.tsx
  - src/app/[locale]/(app)/clients/[id]/page.tsx
  - src/app/[locale]/(app)/clients/page.tsx
  - src/app/[locale]/(app)/providers/[id]/page.tsx
  - src/app/[locale]/(app)/providers/page.tsx
autonomous: true

must_haves:
  truths:
    - "Deal detail page layouts mirror correctly in RTL"
    - "Property detail page with tabs works in RTL"
    - "Dashboard page layouts work in RTL"
    - "Client and provider pages display correctly in RTL"
  artifacts:
    - path: "src/app/[locale]/(app)/deals/[id]/page.tsx"
      provides: "RTL-compatible deal detail page"
      contains: "ms-|me-|ps-|pe-|text-start"
    - path: "src/app/[locale]/(app)/properties/[id]/page.tsx"
      provides: "RTL-compatible property detail page"
      contains: "ms-|me-|ps-|pe-|start-|end-"
  key_links:
    - from: "src/app/[locale]/(app)/deals/[id]/page.tsx"
      to: "src/components/deals/*"
      via: "Component composition"
      pattern: "components/deals"
---

<objective>
Migrate high-traffic application pages to CSS logical properties

Purpose: These are the most visited pages in the application. Deal details, property details, dashboards, and management pages must work correctly in RTL for the core user experience.

Output: All high-traffic application pages use logical CSS properties.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-css-logical-properties-migration/29-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate deal and property detail pages</name>
  <files>
    src/app/[locale]/(app)/deals/[id]/page.tsx
    src/app/[locale]/(app)/deals/page.tsx
    src/app/[locale]/(app)/properties/[id]/page.tsx
  </files>
  <action>
Migrate deals/[id]/page.tsx (13 directional classes - highest in pages):
- Convert all `ml-`/`mr-` to `ms-`/`me-` for tab content, section spacing
- Convert all `pl-`/`pr-` to `ps-`/`pe-` for container padding
- Convert `text-left`/`text-right` to `text-start`/`text-end`
- Convert any `left-`/`right-` positioning to `start-`/`end-`
- Add `rtl:space-x-reverse` to horizontal flex containers
- Pay attention to stage progress indicator, file lists, activity timeline

Migrate deals/page.tsx (2 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for filter/list spacing
- Convert any card grid spacing to logical if needed

Migrate properties/[id]/page.tsx (19 directional classes - highest overall):
- Convert all `ml-`/`mr-` to `ms-`/`me-` for tab content, sidebar spacing
- Convert all `pl-`/`pr-` to `ps-`/`pe-` for section padding
- Convert `text-left`/`text-right` to `text-start`/`text-end`
- Convert any `left-`/`right-` positioning to `start-`/`end-`
- Add `rtl:space-x-reverse` to horizontal flex containers
- Pay attention to two-column layout, sticky sidebar, amenities grid
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check:
`grep -E "(ml-|mr-|pl-|pr-|left-[0-9]|right-[0-9]|text-left|text-right)" src/app/\\[locale\\]/\\(app\\)/deals/\\[id\\]/page.tsx src/app/\\[locale\\]/\\(app\\)/deals/page.tsx src/app/\\[locale\\]/\\(app\\)/properties/\\[id\\]/page.tsx`
Should return empty.
  </verify>
  <done>
Deal detail page (13 classes) fully migrated.
Property detail page (19 classes) fully migrated.
Deals list page migrated.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate dashboard and management pages</name>
  <files>
    src/app/[locale]/(app)/dashboard/page.tsx
    src/app/[locale]/(app)/clients/[id]/page.tsx
    src/app/[locale]/(app)/clients/page.tsx
    src/app/[locale]/(app)/providers/[id]/page.tsx
    src/app/[locale]/(app)/providers/page.tsx
  </files>
  <action>
Migrate dashboard/page.tsx (10 directional classes):
- Convert all `ml-`/`mr-` to `ms-`/`me-` for stat card, section spacing
- Convert all `pl-`/`pr-` to `ps-`/`pe-` for content padding
- Convert any positioning classes to logical
- Add `rtl:space-x-reverse` if using horizontal space-x-*

Migrate clients/[id]/page.tsx (5 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for detail sections
- Convert `pl-`/`pr-` to `ps-`/`pe-` for content padding
- Convert any tab or list spacing to logical

Migrate clients/page.tsx (3 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for list item spacing
- Convert any filter/search spacing to logical

Migrate providers/[id]/page.tsx (3 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for profile sections
- Convert any rating/stats display spacing to logical

Migrate providers/page.tsx (3 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for card/list spacing
- Convert any tab/filter spacing to logical
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check:
`grep -E "(ml-|mr-|pl-|pr-|left-[0-9]|right-[0-9])" src/app/\\[locale\\]/\\(app\\)/dashboard/page.tsx src/app/\\[locale\\]/\\(app\\)/clients/\\[id\\]/page.tsx src/app/\\[locale\\]/\\(app\\)/clients/page.tsx src/app/\\[locale\\]/\\(app\\)/providers/\\[id\\]/page.tsx src/app/\\[locale\\]/\\(app\\)/providers/page.tsx`
Should return empty.
  </verify>
  <done>
Dashboard page (10 classes) fully migrated.
Client detail and list pages migrated.
Provider detail and list pages migrated.
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build`
2. No physical directional classes in high-traffic pages
3. Deal, property, dashboard pages render correctly in RTL mode
</verification>

<success_criteria>
- [ ] deals/[id]/page.tsx (13 classes) fully migrated
- [ ] properties/[id]/page.tsx (19 classes) fully migrated
- [ ] dashboard/page.tsx (10 classes) fully migrated
- [ ] clients/[id]/page.tsx (5 classes) fully migrated
- [ ] All management pages migrated
- [ ] Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/29-css-logical-properties-migration/29-09-SUMMARY.md`
</output>
