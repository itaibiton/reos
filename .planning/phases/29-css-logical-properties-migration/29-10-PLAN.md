---
phase: 29-css-logical-properties-migration
plan: 10
type: execute
wave: 3
depends_on: ["29-04", "29-05", "29-06", "29-07", "29-08"]
files_modified:
  - src/app/[locale]/(app)/feed/page.tsx
  - src/app/[locale]/(app)/profile/[id]/page.tsx
  - src/app/[locale]/(app)/settings/page.tsx
  - src/app/[locale]/(app)/chat/page.tsx
  - src/app/[locale]/(app)/analytics/page.tsx
  - src/app/[locale]/(app)/onboarding/page.tsx
  - src/app/[locale]/(app)/design-system/page.tsx
autonomous: true

must_haves:
  truths:
    - "Feed page with tabs and sidebar works in RTL"
    - "Profile page layout mirrors correctly in RTL"
    - "Settings page forms align correctly in RTL"
    - "Chat page with multi-pane layout works in RTL"
  artifacts:
    - path: "src/app/[locale]/(app)/feed/page.tsx"
      provides: "RTL-compatible feed page"
      contains: "ms-|me-|ps-|pe-"
    - path: "src/app/[locale]/(app)/settings/page.tsx"
      provides: "RTL-compatible settings page"
      contains: "ms-|me-|ps-|pe-"
  key_links:
    - from: "src/app/[locale]/(app)/feed/page.tsx"
      to: "src/components/feed/*"
      via: "Feed components"
      pattern: "components/feed"
---

<objective>
Migrate remaining application pages to CSS logical properties and perform final verification

Purpose: Complete the migration of all remaining pages and verify the entire application is RTL-ready. This is the final plan for Phase 29.

Output: All application pages use logical CSS properties. Full RTL-02 requirement met.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-css-logical-properties-migration/29-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate remaining application pages</name>
  <files>
    src/app/[locale]/(app)/feed/page.tsx
    src/app/[locale]/(app)/profile/[id]/page.tsx
    src/app/[locale]/(app)/settings/page.tsx
    src/app/[locale]/(app)/chat/page.tsx
    src/app/[locale]/(app)/analytics/page.tsx
    src/app/[locale]/(app)/onboarding/page.tsx
    src/app/[locale]/(app)/design-system/page.tsx
  </files>
  <action>
Migrate feed/page.tsx (1 directional class):
- Convert any `ml-`/`mr-` to `ms-`/`me-` for sidebar spacing
- Check two-column layout spacing

Migrate profile/[id]/page.tsx (1 directional class):
- Convert any directional classes to logical
- Check avatar/stats alignment

Migrate settings/page.tsx (1 directional class):
- Convert any tab/form spacing to logical
- Check toggle alignment

Migrate chat/page.tsx (1 directional class):
- Convert any pane/layout spacing to logical
- Multi-pane layout should use logical margins

Migrate analytics/page.tsx (1 directional class):
- Convert any chart/stats spacing to logical

Migrate onboarding/page.tsx (2 directional classes):
- Convert `ml-`/`mr-` to `ms-`/`me-` for step indicator spacing
- Add `rtl:space-x-reverse` if using space-x-*

Migrate design-system/page.tsx (1 + 5 space-x classes):
- Convert any directional classes to logical
- Add `rtl:space-x-reverse` to all space-x-* containers
- This page showcases components so should be RTL-ready for demo purposes
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check:
`grep -E "(ml-|mr-|pl-|pr-|left-[0-9]|right-[0-9])" src/app/\\[locale\\]/\\(app\\)/feed/page.tsx src/app/\\[locale\\]/\\(app\\)/profile/\\[id\\]/page.tsx src/app/\\[locale\\]/\\(app\\)/settings/page.tsx src/app/\\[locale\\]/\\(app\\)/chat/page.tsx src/app/\\[locale\\]/\\(app\\)/analytics/page.tsx src/app/\\[locale\\]/\\(app\\)/onboarding/page.tsx src/app/\\[locale\\]/\\(app\\)/design-system/page.tsx`
Should return empty.
  </verify>
  <done>
All remaining pages migrated to logical properties.
Feed two-column layout works in RTL.
Onboarding stepper works in RTL.
  </done>
</task>

<task type="auto">
  <name>Task 2: Final verification sweep</name>
  <files>
    (verification only - no file modifications expected)
  </files>
  <action>
Perform comprehensive verification that Phase 29 (RTL-02) is complete:

1. Run full grep scan for remaining physical directional classes:
```bash
grep -rE "(ml-[0-9]|mr-[0-9]|pl-[0-9]|pr-[0-9]|left-[0-9]|right-[0-9]|text-left|text-right|border-l-[0-9]|border-r-[0-9]|rounded-l-|rounded-r-)" src/ --include="*.tsx" | grep -v "slide-in-from" | grep -v "slide-out-to" | grep -v "data-\[side=" | grep -v "node_modules"
```

2. Expected exceptions (DO NOT migrate):
- Animation classes: `slide-in-from-left`, `slide-in-from-right`, `slide-out-to-left`, `slide-out-to-right`
- Data attribute selectors: `data-[side=left]`, `data-[side=right]`
- Transform-based centering: `left-[50%]` with `-translate-x-1/2`

3. If any unexpected physical classes found, fix them.

4. Run build to confirm no regressions:
```bash
npm run build
```

5. Generate summary of migration:
- Total files migrated
- Categories: UI components, layout components, feature components, pages
- Patterns used: ms-/me-, ps-/pe-, start-/end-, text-start/end, rtl:space-x-reverse
  </action>
  <verify>
1. Build passes: `npm run build`
2. Grep scan returns only allowed exceptions (animations, data attributes, transforms)
3. No TypeScript errors or warnings related to class names
  </verify>
  <done>
Phase 29 complete.
RTL-02 requirement met: All directional CSS classes converted to logical properties.
Only animation classes remain physical (handled in RTL-05 Phase 30).
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build`
2. Comprehensive grep scan shows no remaining physical directional classes (except allowed exceptions)
3. Application renders correctly in both LTR and RTL modes
</verification>

<success_criteria>
- [ ] All 7 remaining pages migrated
- [ ] Full verification sweep passes
- [ ] No unexpected physical directional classes remain
- [ ] Build passes with no errors
- [ ] RTL-02 requirement verified complete
</success_criteria>

<output>
After completion, create `.planning/phases/29-css-logical-properties-migration/29-10-SUMMARY.md`

Include in summary:
- Total files modified across all 10 plans
- Class migration counts by category
- Verification results
- RTL-02 requirement status: COMPLETE
</output>
