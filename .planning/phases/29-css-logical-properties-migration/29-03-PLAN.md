---
phase: 29-css-logical-properties-migration
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/input-group.tsx
  - src/components/ui/multi-select-popover.tsx
  - src/components/ui/field.tsx
  - src/components/ui/command.tsx
  - src/components/ui/tabs.tsx
  - src/components/ui/button-group.tsx
  - src/components/ui/popover.tsx
  - src/components/ui/tooltip.tsx
  - src/components/ui/hover-card.tsx
  - src/components/ui/accordion.tsx
  - src/components/ui/alert.tsx
  - src/components/ui/badge.tsx
  - src/components/ui/button.tsx
  - src/components/ui/checkbox.tsx
  - src/components/ui/toggle.tsx
  - src/components/ui/toggle-group.tsx
  - src/components/ui/switch.tsx
  - src/components/ui/radio-group.tsx
  - src/components/ui/input.tsx
  - src/components/ui/textarea.tsx
  - src/components/ui/scroll-area.tsx
  - src/components/ui/resizable.tsx
  - src/components/ui/sonner.tsx
  - src/components/ui/empty.tsx
  - src/components/ui/input-otp.tsx
  - src/components/ui/chart.tsx
  - src/components/ui/item.tsx
autonomous: true

must_haves:
  truths:
    - "Input groups with icons show icons on correct side in RTL"
    - "Multi-select badges and items align correctly in RTL"
    - "Form fields maintain proper spacing in both directions"
    - "Tab indicators position correctly in RTL"
  artifacts:
    - path: "src/components/ui/input-group.tsx"
      provides: "RTL-compatible input with icons"
      contains: "ps-|pe-|ms-|me-|start-|end-"
    - path: "src/components/ui/multi-select-popover.tsx"
      provides: "RTL-compatible multi-select"
      contains: "ms-|me-"
    - path: "src/components/ui/tabs.tsx"
      provides: "RTL-compatible tabs"
      contains: "ms-|me-|ps-|pe-"
  key_links:
    - from: "src/components/ui/input-group.tsx"
      to: "src/components/ui/input.tsx"
      via: "Input composition"
      pattern: "Input"
---

<objective>
Migrate remaining Shadcn UI components to CSS logical properties

Purpose: Complete the migration of all Shadcn UI components with directional CSS classes. These are lower-priority components with fewer occurrences but still need migration for complete RTL support.

Output: All Shadcn UI components in /src/components/ui/ use logical CSS properties.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-css-logical-properties-migration/29-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate form-related UI components</name>
  <files>
    src/components/ui/input-group.tsx
    src/components/ui/multi-select-popover.tsx
    src/components/ui/field.tsx
    src/components/ui/command.tsx
    src/components/ui/input.tsx
    src/components/ui/textarea.tsx
    src/components/ui/checkbox.tsx
    src/components/ui/switch.tsx
    src/components/ui/radio-group.tsx
  </files>
  <action>
Migrate input-group.tsx (5 directional classes):
- Convert all `pl-*`/`pr-*` to `ps-*`/`pe-*` for icon padding
- Convert all `ml-*`/`mr-*` to `ms-*`/`me-*` for icon margins
- These handle input icons on left/right - should be start/end

Migrate multi-select-popover.tsx (4 directional classes):
- Convert `mr-*`/`ml-*` to `me-*`/`ms-*` in badge/chip elements

Migrate field.tsx (1 directional class):
- Convert `ml-4` to `ms-4` for label offset

Migrate command.tsx (1 directional class):
- Convert `ml-auto` to `ms-auto` for shortcut positioning

Migrate input.tsx (1 directional class):
- Check for any `pl-`/`pr-` -> convert to `ps-`/`pe-`

Migrate textarea.tsx (1 directional class):
- Check for any `pl-`/`pr-` -> convert to `ps-`/`pe-`

Migrate checkbox.tsx (1 directional class):
- Check for any positioning classes -> convert to logical

Migrate switch.tsx (1 directional class):
- Check for any `left-`/`right-` thumb positioning -> may need conditional RTL handling

Migrate radio-group.tsx (2 directional classes):
- Convert `left-1/2` centering if used for visual indicators
- Note: Centering transforms may need to stay physical
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check on form components:
`grep -E "(pl-|pr-|ml-|mr-|left-[0-9]|right-[0-9])" src/components/ui/input-group.tsx src/components/ui/multi-select-popover.tsx src/components/ui/field.tsx src/components/ui/command.tsx src/components/ui/input.tsx src/components/ui/textarea.tsx src/components/ui/checkbox.tsx src/components/ui/switch.tsx src/components/ui/radio-group.tsx`
Should return minimal/no matches.
  </verify>
  <done>
Input-group icons position on start/end sides.
Multi-select badges have logical margins.
Form fields use logical spacing.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate remaining UI components</name>
  <files>
    src/components/ui/tabs.tsx
    src/components/ui/button-group.tsx
    src/components/ui/popover.tsx
    src/components/ui/tooltip.tsx
    src/components/ui/hover-card.tsx
    src/components/ui/accordion.tsx
    src/components/ui/alert.tsx
    src/components/ui/badge.tsx
    src/components/ui/button.tsx
    src/components/ui/toggle.tsx
    src/components/ui/toggle-group.tsx
    src/components/ui/scroll-area.tsx
    src/components/ui/resizable.tsx
    src/components/ui/sonner.tsx
    src/components/ui/empty.tsx
    src/components/ui/input-otp.tsx
    src/components/ui/chart.tsx
    src/components/ui/item.tsx
  </files>
  <action>
Migrate tabs.tsx (2 directional classes):
- Convert any `ml-`/`mr-` to `ms-`/`me-`
- Convert any `pl-`/`pr-` to `ps-`/`pe-`

Migrate button-group.tsx (2 directional classes):
- Convert border radius classes: `rounded-l-*`/`rounded-r-*` to `rounded-s-*`/`rounded-e-*`
- This ensures button groups round correctly in RTL

Migrate remaining components (1 class each):
- popover.tsx: animation classes - keep as-is for RTL-05
- tooltip.tsx: animation classes - keep as-is for RTL-05
- hover-card.tsx: animation classes - keep as-is for RTL-05
- accordion.tsx: any `ml-`/`mr-` -> `ms-`/`me-`
- alert.tsx: any `pl-`/`pr-` -> `ps-`/`pe-`
- badge.tsx: any `ml-`/`mr-` -> `ms-`/`me-`
- button.tsx: any directional classes -> logical
- toggle.tsx: any directional classes -> logical
- toggle-group.tsx: any directional classes -> logical
- scroll-area.tsx: scroll margins if any
- resizable.tsx: handle positioning if any
- sonner.tsx: toast positioning if any
- empty.tsx: any `ml-`/`mr-` -> `ms-`/`me-`
- input-otp.tsx: any directional classes -> logical
- chart.tsx: any `ml-`/`mr-` -> `ms-`/`me-`
- item.tsx: any directional classes -> logical
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Full UI component check:
`grep -rE "(ml-[0-9]|mr-[0-9]|pl-[0-9]|pr-[0-9]|left-[0-9]|right-[0-9]|text-left|text-right|border-l-|border-r-|rounded-l|rounded-r)" src/components/ui/ --include="*.tsx" | grep -v "slide-in-from" | grep -v "data-\[side="`
Should return empty or only allowed exceptions.
  </verify>
  <done>
All Shadcn UI components migrated to logical properties.
Only animation classes and data attribute selectors remain as physical.
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build`
2. Comprehensive grep across all UI components shows no physical directional classes (except animations)
3. UI components render identically in LTR mode (no visual regression)
</verification>

<success_criteria>
- [ ] All 27 UI component files migrated
- [ ] Input groups show icons on correct start/end side
- [ ] Button groups round on correct start/end corners
- [ ] Tab indicators align correctly
- [ ] Build passes with no errors
- [ ] No remaining physical directional classes (except animations/transforms)
</success_criteria>

<output>
After completion, create `.planning/phases/29-css-logical-properties-migration/29-03-SUMMARY.md`
</output>
