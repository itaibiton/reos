---
phase: 29-css-logical-properties-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/sidebar.tsx
  - src/components/ui/sheet.tsx
  - src/components/ui/dropdown-menu.tsx
  - src/components/ui/context-menu.tsx
  - src/components/ui/menubar.tsx
autonomous: true

must_haves:
  truths:
    - "Sidebar appears on correct side in both LTR and RTL modes"
    - "Sheet slides in from correct direction in both LTR and RTL"
    - "Dropdown menu items display with correct start/end spacing in both directions"
    - "All submenus open toward correct direction"
  artifacts:
    - path: "src/components/ui/sidebar.tsx"
      provides: "RTL-compatible sidebar positioning"
      contains: "start-0|end-0|ms-|me-|border-s|border-e"
    - path: "src/components/ui/sheet.tsx"
      provides: "RTL-compatible sheet positioning and animations"
      contains: "start-0|end-0|border-s|border-e"
    - path: "src/components/ui/dropdown-menu.tsx"
      provides: "RTL-compatible dropdown menu spacing"
      contains: "ps-|pe-|start-|end-|ms-|me-"
  key_links:
    - from: "src/components/ui/sidebar.tsx"
      to: "src/components/ui/sheet.tsx"
      via: "SheetContent for mobile sidebar"
      pattern: "SheetContent.*side="
---

<objective>
Migrate high-priority Shadcn UI components to CSS logical properties

Purpose: These 5 components are the most critical for RTL support - they control layout positioning (sidebar), overlays (sheet), and menus. Migrating them first ensures the foundation is RTL-ready before application-specific components.

Output: All layout-critical Shadcn components use logical CSS properties that automatically flip in RTL mode.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-css-logical-properties-migration/29-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Sidebar and Sheet components</name>
  <files>
    src/components/ui/sidebar.tsx
    src/components/ui/sheet.tsx
  </files>
  <action>
Migrate sidebar.tsx (14 directional classes):
- Line 232-235: Convert `left-0` to `start-0`, `right-0` to `end-0` in sidebar container positioning
- Line 239: Convert `border-r`/`border-l` to `border-e`/`border-s`
- Line 294: Convert `-right-4` to `-end-4`, `left-0` to `start-0` in SidebarRail
- Line 298-299: Convert `left-2`/`right-2` patterns
- Line 313: Convert `ml-0`/`ml-2` to `ms-0`/`ms-2` in SidebarInset
- Line 429: Convert `right-3` to `end-3` in SidebarGroupAction
- Line 564: Convert `right-1` to `end-1` in SidebarMenuAction
- Line 589: Convert `right-1` to `end-1` in SidebarMenuBadge
- Line 646: Convert `border-l` to `border-s`, `mx-3.5` to logical if needed in SidebarMenuSub

Migrate sheet.tsx (3 directional classes):
- Lines 62-65: Convert `right-0`/`left-0` positioning to `end-0`/`start-0`
- Lines 62-65: Convert `border-l`/`border-r` to `border-s`/`border-e`
- Line 75: Convert `right-4` to `end-4` for close button

Note on animations: Keep `slide-in-from-left`/`slide-in-from-right` as-is for now - animation direction is handled separately in Phase 30 RTL Component Patches (icon/animation flipping is RTL-05 scope).
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep for physical directional classes in both files:
`grep -E "(ml-|mr-|pl-|pr-|left-|right-|border-l|border-r)" src/components/ui/sidebar.tsx src/components/ui/sheet.tsx`
Should return only animation classes (slide-in-from-*) and data-[side=*] attribute selectors.
  </verify>
  <done>
Sidebar uses logical positioning (start-0/end-0) and logical borders (border-s/border-e).
Sheet uses logical positioning for overlay position and close button.
Only animation classes remain as physical (deferred to RTL-05).
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate Dropdown, Context, and Menubar components</name>
  <files>
    src/components/ui/dropdown-menu.tsx
    src/components/ui/context-menu.tsx
    src/components/ui/menubar.tsx
  </files>
  <action>
Migrate dropdown-menu.tsx (11 directional classes):
- Line 77: Convert `data-[inset]:pl-8` to `data-[inset]:ps-8` in DropdownMenuItem
- Lines 95, 131: Convert `pl-8` to `ps-8`, `pr-2` to `pe-2` in CheckboxItem and RadioItem
- Lines 101, 136: Convert `left-2` to `start-2` for indicator positioning
- Line 158: Convert `data-[inset]:pl-8` to `data-[inset]:ps-8` in DropdownMenuLabel
- Line 187: Convert `ml-auto` to `ms-auto` in DropdownMenuShortcut
- Line 214: Convert `data-[inset]:pl-8` to `data-[inset]:ps-8` in SubTrigger
- Line 220: Convert `ml-auto` to `ms-auto` for ChevronRightIcon

Migrate context-menu.tsx (11 directional classes - same patterns):
- Same pattern as dropdown-menu: pl-8 -> ps-8, pr-2 -> pe-2, left-2 -> start-2, ml-auto -> ms-auto
- Apply to ContextMenuItem, ContextMenuCheckboxItem, ContextMenuRadioItem, ContextMenuLabel, ContextMenuSubTrigger, ContextMenuShortcut

Migrate menubar.tsx (11 directional classes - same patterns):
- Same pattern as dropdown-menu: pl-8 -> ps-8, pr-2 -> pe-2, left-2 -> start-2, ml-auto -> ms-auto
- Apply to MenubarItem, MenubarCheckboxItem, MenubarRadioItem, MenubarLabel, MenubarSubTrigger, MenubarShortcut
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep for physical directional classes:
`grep -E "(ml-|mr-|pl-|pr-|left-[0-9]|right-[0-9])" src/components/ui/dropdown-menu.tsx src/components/ui/context-menu.tsx src/components/ui/menubar.tsx`
Should return empty (no matches).
  </verify>
  <done>
All three menu components use logical padding (ps-/pe-), logical positioning (start-/end-), and logical margins (ms-/me-).
Menu items, checkboxes, radio items, labels, and sub-triggers all RTL-ready.
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build`
2. No physical directional classes remain in migrated files (except animations)
3. Manual test: In browser with `dir="rtl"` on html element, sidebar and menus should mirror correctly
</verification>

<success_criteria>
- [ ] sidebar.tsx uses logical properties throughout
- [ ] sheet.tsx uses logical properties for positioning
- [ ] dropdown-menu.tsx uses logical properties throughout
- [ ] context-menu.tsx uses logical properties throughout
- [ ] menubar.tsx uses logical properties throughout
- [ ] Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/29-css-logical-properties-migration/29-01-SUMMARY.md`
</output>
