---
phase: 29-css-logical-properties-migration
plan: 07
type: execute
wave: 2
depends_on: ["29-01", "29-02", "29-03"]
files_modified:
  - src/components/questionnaire/AnswerArea.tsx
  - src/components/questionnaire/TypeWriter.tsx
  - src/components/questionnaire/steps/HorizonStep.tsx
  - src/components/questionnaire/steps/ExperienceStep.tsx
  - src/components/questionnaire/steps/FinancingStep.tsx
  - src/components/questionnaire/steps/AmenitiesStep.tsx
  - src/components/questionnaire/steps/YieldStep.tsx
  - src/components/questionnaire/steps/PropertySizeStep.tsx
  - src/components/questionnaire/steps/TimelineStep.tsx
  - src/components/questionnaire/steps/CitizenshipStep.tsx
  - src/components/questionnaire/steps/LocationStep.tsx
  - src/components/questionnaire/steps/GoalsStep.tsx
  - src/components/questionnaire/steps/PropertyTypeStep.tsx
  - src/components/questionnaire/steps/ResidencyStep.tsx
  - src/components/questionnaire/steps/InvestmentTypeStep.tsx
  - src/components/questionnaire/steps/OwnershipStep.tsx
  - src/components/questionnaire/steps/BudgetStep.tsx
  - src/components/questionnaire/steps/ServicesStep.tsx
autonomous: true

must_haves:
  truths:
    - "Questionnaire wizard displays correctly in RTL mode"
    - "Answer options align correctly in RTL"
    - "Radio buttons and checkboxes position correctly in RTL"
    - "Step navigation works correctly in RTL"
  artifacts:
    - path: "src/components/questionnaire/AnswerArea.tsx"
      provides: "RTL-compatible answer area"
      contains: "ms-|me-|ps-|pe-"
    - path: "src/components/questionnaire/steps/BudgetStep.tsx"
      provides: "RTL-compatible budget step"
      contains: "ms-|me-|ps-|pe-"
  key_links:
    - from: "src/components/questionnaire/AnswerArea.tsx"
      to: "src/components/questionnaire/steps/*"
      via: "Step rendering"
      pattern: "Step"
---

<objective>
Migrate questionnaire components to CSS logical properties

Purpose: The investor onboarding questionnaire is a critical user journey. All step components and the wizard framework must work correctly in RTL for Hebrew-speaking users.

Output: All questionnaire components use logical CSS properties.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-css-logical-properties-migration/29-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate questionnaire framework components</name>
  <files>
    src/components/questionnaire/AnswerArea.tsx
    src/components/questionnaire/TypeWriter.tsx
  </files>
  <action>
Migrate AnswerArea.tsx (2 directional classes + animation):
- Convert `ml-`/`mr-` to `ms-`/`me-` for content spacing
- Convert `pl-`/`pr-` to `ps-`/`pe-` for container padding
- Note animation class `slide-in-from-*`: keep as-is for RTL-05 (animation direction)

Migrate TypeWriter.tsx (1 directional class):
- Convert any directional classes to logical
- Check for cursor animation positioning

These are the framework components that wrap all step content.
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check:
`grep -E "(ml-|mr-|pl-|pr-|left-[0-9]|right-[0-9])" src/components/questionnaire/AnswerArea.tsx src/components/questionnaire/TypeWriter.tsx`
Should return only animation classes.
  </verify>
  <done>
AnswerArea uses logical spacing.
TypeWriter cursor positions correctly in both directions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate all questionnaire step components</name>
  <files>
    src/components/questionnaire/steps/HorizonStep.tsx
    src/components/questionnaire/steps/ExperienceStep.tsx
    src/components/questionnaire/steps/FinancingStep.tsx
    src/components/questionnaire/steps/AmenitiesStep.tsx
    src/components/questionnaire/steps/YieldStep.tsx
    src/components/questionnaire/steps/PropertySizeStep.tsx
    src/components/questionnaire/steps/TimelineStep.tsx
    src/components/questionnaire/steps/CitizenshipStep.tsx
    src/components/questionnaire/steps/LocationStep.tsx
    src/components/questionnaire/steps/GoalsStep.tsx
    src/components/questionnaire/steps/PropertyTypeStep.tsx
    src/components/questionnaire/steps/ResidencyStep.tsx
    src/components/questionnaire/steps/InvestmentTypeStep.tsx
    src/components/questionnaire/steps/OwnershipStep.tsx
    src/components/questionnaire/steps/BudgetStep.tsx
    src/components/questionnaire/steps/ServicesStep.tsx
  </files>
  <action>
Pattern: All step components follow similar structure with radio/checkbox options.

Migrate step components with `space-x-*` (need rtl:space-x-reverse):
- HorizonStep.tsx (3 classes): Add rtl:space-x-reverse
- ExperienceStep.tsx (3 classes): Add rtl:space-x-reverse
- FinancingStep.tsx (3 classes): Add rtl:space-x-reverse
- YieldStep.tsx (3 classes): Add rtl:space-x-reverse
- TimelineStep.tsx (4 classes): Add rtl:space-x-reverse
- CitizenshipStep.tsx (2 classes): Add rtl:space-x-reverse
- ResidencyStep.tsx (4 classes): Add rtl:space-x-reverse
- InvestmentTypeStep.tsx (2 classes): Add rtl:space-x-reverse
- OwnershipStep.tsx (2 classes): Add rtl:space-x-reverse

Migrate step components with ml-/mr- margins:
- AmenitiesStep.tsx (1 class): ml-/mr- -> ms-/me-
- PropertySizeStep.tsx (4 classes): ml-/mr- -> ms-/me-
- LocationStep.tsx (1 class): ml-/mr- -> ms-/me-
- GoalsStep.tsx (1 class): ml-/mr- -> ms-/me-
- PropertyTypeStep.tsx (1 class): ml-/mr- -> ms-/me-
- BudgetStep.tsx (4 classes): ml-/mr- -> ms-/me-
- ServicesStep.tsx (1 class): ml-/mr- -> ms-/me-

For each step:
1. Find all `space-x-*` patterns and add `rtl:space-x-reverse` class
2. Convert `ml-*`/`mr-*` to `ms-*`/`me-*`
3. Convert `pl-*`/`pr-*` to `ps-*`/`pe-*` if present
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Grep check:
`grep -E "(ml-|mr-|pl-|pr-)" src/components/questionnaire/steps/*.tsx`
Should return empty.
Check for space-x without rtl:space-x-reverse:
`grep -l "space-x-" src/components/questionnaire/steps/*.tsx | xargs grep -L "rtl:space-x-reverse"`
Should return empty (all space-x have their rtl counterpart).
  </verify>
  <done>
All 16 questionnaire step components migrated.
space-x-* containers have rtl:space-x-reverse.
All margin/padding classes use logical properties.
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build`
2. No physical directional classes in questionnaire components
3. Questionnaire displays correctly in RTL mode with proper option alignment
</verification>

<success_criteria>
- [ ] AnswerArea uses logical spacing
- [ ] All 16 step components migrated
- [ ] All space-x-* have rtl:space-x-reverse
- [ ] Radio/checkbox options align correctly
- [ ] Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/29-css-logical-properties-migration/29-07-SUMMARY.md`
</output>
