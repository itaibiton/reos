---
phase: 34.1-translate-all-pages-content
plan: 01
subsystem: i18n
tags: [next-intl, translations, chat, notifications]

# Dependency graph
requires:
  - phase: 31
    provides: common.roles translation keys
  - phase: 28
    provides: next-intl i18n infrastructure
provides:
  - common.notifications translation namespace (5 keys)
  - chat.conversations translation namespace (6 keys)
  - chat.newConversation translation namespace (14 keys)
  - chat.addMembers translation namespace (5 keys)
  - chat.groupSettings translation namespace (10 keys)
  - chat.directChat translation namespace (3 keys)
  - Fully translated NotificationCenter component
  - Fully translated chat dialog components (5 files)
affects: [34.1-02, 34.1-03]

# Tech tracking
tech-stack:
  added: []
  patterns:
    - roleKeyMap pattern for snake_case to camelCase role translation
    - useTranslations hook with multiple namespaces (chat, common.roles, common.actions)

key-files:
  created: []
  modified:
    - messages/en.json
    - messages/he.json
    - src/components/notifications/NotificationCenter.tsx
    - src/components/chat/ConversationSelector.tsx
    - src/components/chat/NewConversationDialog.tsx
    - src/components/chat/AddMembersDialog.tsx
    - src/components/chat/GroupSettingsDialog.tsx
    - src/components/chat/DirectChatThread.tsx

key-decisions:
  - "Use roleKeyMap pattern to convert snake_case DB values to camelCase translation keys"
  - "Reuse common.roles namespace for role labels across all chat components"
  - "Reuse chat.newConversation keys in AddMembersDialog for shared strings"

patterns-established:
  - "roleKeyMap + tRoles(roleKeyMap[role]) pattern for role badge translations"

# Metrics
duration: 8min
completed: 2026-01-20
---

# Phase 34.1 Plan 01: Translate Notifications & Chat Components Summary

**Translated NotificationCenter and 5 chat dialog components with ~43 new translation keys using roleKeyMap pattern for role labels**

## Performance

- **Duration:** 8 min
- **Started:** 2026-01-20
- **Completed:** 2026-01-20
- **Tasks:** 3
- **Files modified:** 8

## Accomplishments
- Added notification translation keys to common namespace (5 keys)
- Added chat dialog translation keys (conversations, newConversation, addMembers, groupSettings, directChat - 38 keys)
- Translated NotificationCenter component (title, mark all read, loading, empty, caught up)
- Translated 5 chat components using roleKeyMap pattern for role badges

## Task Commits

Each task was committed atomically:

1. **Task 1: Add notification and chat translation keys** - `ab8686c` (feat)
2. **Task 2: Translate NotificationCenter component** - `49c0160` (feat)
3. **Task 3: Translate chat dialog components** - `96bf8de` (feat)

## Files Created/Modified
- `messages/en.json` - Added common.notifications and chat.* namespaces
- `messages/he.json` - Hebrew translations for all new keys
- `src/components/notifications/NotificationCenter.tsx` - All user-facing strings translated
- `src/components/chat/ConversationSelector.tsx` - Search, buttons, empty states translated
- `src/components/chat/NewConversationDialog.tsx` - Dialog title/description, inputs, actions translated
- `src/components/chat/AddMembersDialog.tsx` - Title, description, add button with count translated
- `src/components/chat/GroupSettingsDialog.tsx` - Group name, members, actions translated
- `src/components/chat/DirectChatThread.tsx` - Participants, empty state, placeholder translated

## Decisions Made
- Used roleKeyMap pattern to map snake_case DB values (e.g., `mortgage_advisor`) to camelCase translation keys (e.g., `mortgageAdvisor`)
- Replaced hardcoded formatRole functions with `tRoles(roleKeyMap[role])` pattern for consistency with common.roles namespace
- Reused chat.newConversation.searchUsers key in AddMembersDialog to avoid duplication

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered
None

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Chat components fully translated and ready
- NotificationCenter fully translated
- Pattern established for roleKeyMap usage in remaining components

---
*Phase: 34.1-translate-all-pages-content*
*Completed: 2026-01-20*
