---
phase: 53-hero-navigation-mobile
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/newlanding/Navigation.tsx
autonomous: true

must_haves:
  truths:
    - "Navigation shows hamburger menu icon on mobile (< 768px)"
    - "Mobile menu slides in from left with smooth animation"
    - "Platform and Solutions dropdowns become accordion items in mobile menu"
    - "All menu items have 44px+ touch targets"
    - "Mobile menu closes on link click or outside tap"
    - "Log in link hidden below 640px, only Get Started visible"
  artifacts:
    - path: "src/components/newlanding/Navigation.tsx"
      provides: "Mobile-responsive navigation with hamburger menu"
      contains: "Sheet"
  key_links:
    - from: "Navigation.tsx"
      to: "@/components/ui/sheet"
      via: "import statement"
      pattern: "import.*Sheet.*from"
    - from: "Navigation.tsx"
      to: "@/components/ui/accordion"
      via: "import statement"
      pattern: "import.*Accordion.*from"
---

<objective>
Add mobile hamburger menu to Navigation with slide-in panel using shadcn/ui Sheet and Accordion components.

Purpose: On mobile devices, the full desktop navigation menu doesn't fit. A hamburger menu with slide-in panel provides familiar mobile navigation UX with proper touch targets and accessibility.

Output: Updated Navigation.tsx with conditional hamburger menu on mobile, Sheet component for slide-in panel, and Accordion for nested Platform/Solutions menus.
</objective>

<execution_context>
@/Users/Kohelet/.claude/get-shit-done/workflows/execute-plan.md
@/Users/Kohelet/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/53-hero-navigation-mobile/53-RESEARCH.md
@src/components/newlanding/Navigation.tsx
@src/components/ui/sheet.tsx
@src/components/ui/accordion.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Mobile Menu Imports and State</name>
  <files>src/components/newlanding/Navigation.tsx</files>
  <action>
Add necessary imports and state for mobile menu:

1. **Add imports** at the top of the file:
```typescript
import { Sheet, SheetContent, SheetTrigger, SheetClose, SheetTitle } from "@/components/ui/sheet";
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";
import { X } from "lucide-react";
```

2. **Add state** inside the Navigation component:
```typescript
const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
```

3. **Import VisuallyHidden** for accessibility (SheetTitle needs to be present but can be hidden):
```typescript
import * as VisuallyHidden from "@radix-ui/react-visually-hidden";
```

Note: If VisuallyHidden is not available, use `<SheetTitle className="sr-only">Navigation Menu</SheetTitle>` instead.
  </action>
  <verify>
File saves without TypeScript errors.
Imports resolve correctly (Sheet, Accordion components exist in the project).
  </verify>
  <done>
Mobile menu imports added (Sheet, Accordion, X icon).
mobileMenuOpen state added to component.
  </done>
</task>

<task type="auto">
  <name>Task 2: Implement Hamburger Menu and Mobile Layout</name>
  <files>src/components/newlanding/Navigation.tsx</files>
  <action>
Restructure the navigation JSX for mobile support:

1. **Update the nav container layout** (NAV-M05):
   - The inner `max-w-7xl` div should organize: Logo | Desktop Nav | Mobile Trigger + CTAs
   - Current structure is fine, just need to add mobile trigger

2. **Hide desktop navigation on mobile** (already done with `hidden md:flex`):
   - The existing `<div className="hidden md:flex items-center">` hides desktop nav on mobile

3. **Add hamburger menu trigger** (NAV-M01) before the CTA buttons div:
```jsx
{/* Mobile Menu Trigger */}
<div className="md:hidden">
  <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>
    <SheetTrigger asChild>
      <button
        className="min-h-[44px] min-w-[44px] flex items-center justify-center hover:bg-foreground/5 rounded-lg transition-colors"
        aria-label="Open navigation menu"
      >
        <Menu className="h-6 w-6" />
      </button>
    </SheetTrigger>
    {/* SheetContent will be added in next section */}
  </Sheet>
</div>
```

4. **Hide "Log in" link below 640px** (NAV-M06):
   - Change `hidden sm:block` to the Log in link (it's already there, verify it says `hidden sm:block`)

5. **Ensure Get Started button is always visible**:
   - The Get Started button should NOT have any hidden classes
  </action>
  <verify>
At mobile viewport (< 768px):
- Hamburger icon visible
- Desktop navigation menu hidden
- "Log in" link hidden below 640px
- "Get Started" button always visible
  </verify>
  <done>
Hamburger menu trigger visible on mobile (< 768px).
Desktop nav hidden on mobile.
Log in link hidden below 640px.
Get Started button always visible.
  </done>
</task>

<task type="auto">
  <name>Task 3: Implement Mobile Menu Content with Accordions</name>
  <files>src/components/newlanding/Navigation.tsx</files>
  <action>
Add the SheetContent with mobile menu structure (NAV-M02, NAV-M03, NAV-M04, NAV-M08, NAV-M09):

Inside the Sheet component, add SheetContent:

```jsx
<SheetContent side="left" className="w-[300px] sm:w-[350px] px-0 pt-12">
  <SheetTitle className="sr-only">Navigation Menu</SheetTitle>

  {/* Close button */}
  <SheetClose asChild>
    <button
      className="absolute top-4 right-4 min-h-[44px] min-w-[44px] flex items-center justify-center hover:bg-foreground/5 rounded-lg transition-colors"
      aria-label="Close menu"
    >
      <X className="h-5 w-5" />
    </button>
  </SheetClose>

  <div className="flex flex-col h-full">
    {/* Accordion for Platform and Solutions */}
    <Accordion type="single" collapsible className="px-4">
      {/* Platform Accordion */}
      <AccordionItem value="platform" className="border-b-0">
        <AccordionTrigger className="py-4 text-base font-normal hover:no-underline hover:bg-foreground/5 px-2 rounded-lg min-h-[44px]">
          {t("menu.platform")}
        </AccordionTrigger>
        <AccordionContent className="pb-2">
          <div className="flex flex-col gap-1">
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Building2 className="h-5 w-5 text-muted-foreground" />
              <span>{t("platform.propertyManagement.title")}</span>
            </a>
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Workflow className="h-5 w-5 text-muted-foreground" />
              <span>{t("platform.automationEngine.title")}</span>
            </a>
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Shield className="h-5 w-5 text-muted-foreground" />
              <span>{t("platform.enterpriseSecurity.title")}</span>
            </a>
          </div>
        </AccordionContent>
      </AccordionItem>

      {/* Solutions Accordion */}
      <AccordionItem value="solutions" className="border-b-0">
        <AccordionTrigger className="py-4 text-base font-normal hover:no-underline hover:bg-foreground/5 px-2 rounded-lg min-h-[44px]">
          {t("menu.solutions")}
        </AccordionTrigger>
        <AccordionContent className="pb-2">
          <div className="flex flex-col gap-1">
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Home className="h-5 w-5 text-muted-foreground" />
              <span>{t("solutions.residential.title")}</span>
            </a>
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Building className="h-5 w-5 text-muted-foreground" />
              <span>{t("solutions.commercial.title")}</span>
            </a>
            <a
              href="#"
              onClick={() => setMobileMenuOpen(false)}
              className="flex items-center gap-3 px-4 py-3 min-h-[44px] text-sm hover:bg-foreground/5 rounded-lg transition-colors"
            >
              <Factory className="h-5 w-5 text-muted-foreground" />
              <span>{t("solutions.industrial.title")}</span>
            </a>
          </div>
        </AccordionContent>
      </AccordionItem>
    </Accordion>

    {/* Simple Links */}
    <div className="px-4 mt-2 flex flex-col gap-1">
      <a
        href="#"
        onClick={() => setMobileMenuOpen(false)}
        className="px-4 py-3 min-h-[44px] text-base hover:bg-foreground/5 rounded-lg transition-colors flex items-center"
      >
        {t("menu.institutions")}
      </a>
      <a
        href="#"
        onClick={() => setMobileMenuOpen(false)}
        className="px-4 py-3 min-h-[44px] text-base hover:bg-foreground/5 rounded-lg transition-colors flex items-center"
      >
        {t("menu.developers")}
      </a>
    </div>

    {/* Mobile-only Log In and Get Started at bottom */}
    <div className="mt-auto px-4 pb-8 flex flex-col gap-3">
      <a
        href="#"
        onClick={() => setMobileMenuOpen(false)}
        className="px-4 py-3 min-h-[44px] text-base text-center border border-border rounded-full hover:bg-foreground/5 transition-colors"
      >
        {t("actions.login")}
      </a>
      <a
        href="#"
        onClick={() => setMobileMenuOpen(false)}
        className="px-4 py-3 min-h-[44px] text-base text-center bg-foreground text-background rounded-full hover:bg-foreground/90 transition-colors"
      >
        {t("actions.getStarted")}
      </a>
    </div>
  </div>
</SheetContent>
```

Key implementation details:
- All links have `onClick={() => setMobileMenuOpen(false)}` to close menu on navigation (NAV-M09)
- All interactive elements have `min-h-[44px]` for touch targets (NAV-M08)
- Sheet closes on outside click automatically via shadcn/ui
- Accordion for Platform/Solutions nested menus (NAV-M04)
- Smooth slide-in animation is built into Sheet component (NAV-M02)
  </action>
  <verify>
1. Open mobile menu - slides in from left smoothly
2. Platform accordion expands to show 3 links
3. Solutions accordion expands to show 3 links
4. Click any link - menu closes
5. Click outside menu - menu closes
6. All touch targets feel adequate (44px+)
  </verify>
  <done>
Mobile menu slides in from left with smooth animation.
Platform and Solutions are accordion items with nested links.
All menu items have 44px+ touch targets.
Menu closes on link click or outside tap.
Log in and Get Started buttons at bottom of mobile menu.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Run `npm run build` - ensure no TypeScript errors
2. Run `npm run dev` and test at mobile viewport (< 768px):
   - Hamburger icon visible, click opens menu
   - Menu slides in from left smoothly
   - Platform accordion opens/closes correctly
   - Solutions accordion opens/closes correctly
   - Institutions and Developers links visible
   - All links close menu when clicked
   - Clicking outside menu closes it
   - All touch targets feel adequate
3. Test at 640px:
   - "Log in" link appears in header
4. Test at 768px+:
   - Desktop navigation visible
   - Hamburger menu hidden
</verification>

<success_criteria>
- Hamburger menu visible on mobile (< 768px)
- Menu opens with slide-in animation from left
- Platform/Solutions are accordion items
- All menu items have 44px+ touch targets
- Menu closes on link click
- Menu closes on outside tap
- "Log in" hidden below 640px in header
- "Get Started" always visible in header
- Desktop nav shows at 768px+
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/53-hero-navigation-mobile/53-02-SUMMARY.md`
</output>
