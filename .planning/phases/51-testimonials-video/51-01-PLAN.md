---
phase: 51-testimonials-video
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/landing/TestimonialsVideo/TestimonialsVideoSection.tsx
  - src/components/landing/TestimonialsVideo/TestimonialsCarousel.tsx
  - src/components/landing/TestimonialsVideo/TestimonialCard.tsx
  - src/components/landing/TestimonialsVideo/VideoEmbed.tsx
  - src/components/landing/TestimonialsVideo/index.ts
  - messages/en.json
  - messages/he.json
  - src/app/[locale]/(main)/page.tsx
autonomous: true

must_haves:
  truths:
    - "Testimonials carousel displays with client quotes, author names, and optional avatars"
    - "Carousel navigation works with arrow buttons and swipe gestures"
    - "Carousel is RTL-aware (slides correct direction in Hebrew locale)"
    - "Video section displays with thumbnail fallback image and play button overlay"
    - "Clicking play button loads YouTube iframe with autoplay"
    - "All animations respect useReducedMotion() preference"
    - "Cards and video section are keyboard accessible with visible focus indicators"
  artifacts:
    - path: "src/components/landing/TestimonialsVideo/TestimonialsVideoSection.tsx"
      provides: "Main combined section with testimonials carousel and video embed"
      exports: ["TestimonialsVideoSection"]
    - path: "src/components/landing/TestimonialsVideo/TestimonialsCarousel.tsx"
      provides: "Carousel using embla-carousel with staggered card animations"
      exports: ["TestimonialsCarousel"]
    - path: "src/components/landing/TestimonialsVideo/TestimonialCard.tsx"
      provides: "Individual testimonial card with quote, author, and avatar"
      exports: ["TestimonialCard"]
    - path: "src/components/landing/TestimonialsVideo/VideoEmbed.tsx"
      provides: "Lazy-loaded video player with play button overlay and fallback image"
      exports: ["VideoEmbed"]
    - path: "messages/en.json"
      provides: "English translations for landing.testimonialsVideo"
      contains: "landing.testimonialsVideo.testimonials"
    - path: "messages/he.json"
      provides: "Hebrew translations for landing.testimonialsVideo"
      contains: "landing.testimonialsVideo.testimonials"
  key_links:
    - from: "src/components/landing/TestimonialsVideo/TestimonialsVideoSection.tsx"
      to: "messages/en.json"
      via: "useTranslations('landing.testimonialsVideo')"
      pattern: "useTranslations.*landing\\.testimonialsVideo"
    - from: "src/components/landing/TestimonialsVideo/TestimonialsCarousel.tsx"
      to: "@/components/ui/carousel"
      via: "import Carousel components"
      pattern: "import.*from.*ui/carousel"
    - from: "src/app/[locale]/(main)/page.tsx"
      to: "TestimonialsVideoSection"
      via: "import and render"
      pattern: "import.*TestimonialsVideoSection"
---

<objective>
Create testimonials carousel and video demo section showcasing client endorsements and platform demonstration for the landing page.

Purpose: Build trust with potential investors through social proof (testimonials) and visual demonstration (video) of the REOS platform.
Output: TestimonialsVideoSection component integrated into landing page with full i18n support (en/he).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/51-testimonials-video/51-RESEARCH.md

# Prior phase patterns to follow
@src/components/landing/FeatureCards/FeatureCardsSection.tsx
@src/components/landing/FeatureCards/FeatureCard.tsx
@src/components/landing/shared/SectionWrapper.tsx
@src/components/landing/shared/animations.ts
@src/components/ui/carousel.tsx

# Current landing page structure
@src/app/[locale]/(main)/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TestimonialsVideo components</name>
  <files>
    src/components/landing/TestimonialsVideo/TestimonialsVideoSection.tsx
    src/components/landing/TestimonialsVideo/TestimonialsCarousel.tsx
    src/components/landing/TestimonialsVideo/TestimonialCard.tsx
    src/components/landing/TestimonialsVideo/VideoEmbed.tsx
    src/components/landing/TestimonialsVideo/index.ts
  </files>
  <action>
Create TestimonialsVideo directory and components following patterns from research document:

1. **TestimonialCard.tsx** - Individual testimonial with quote and author:
   - Use `motion.article` for semantic HTML
   - Add Quote icon from lucide-react (w-8 h-8, text-landing-primary/30)
   - Display quote text in blockquote element
   - Show author info with optional avatar (w-12 h-12 rounded-full)
   - Add `variants={fadeInUp}` for scroll entry animation
   - Add `whileHover={{ scale: 1.02, y: -4 }}` with 0.2s duration (ONLY if !shouldReduceMotion)
   - Use `useReducedMotion()` from framer-motion to conditionally disable animations
   - Card styling: `bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6`
   - Hover: `hover:shadow-lg hover:border-landing-primary/30 transition-shadow duration-300`

2. **TestimonialsCarousel.tsx** - Carousel using existing ui/carousel:
   - Import Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext from @/components/ui/carousel
   - Configure opts: `{ loop: true, align: "start" }`
   - Wrap content in motion.div with staggerContainer variants
   - CarouselItem className: `pl-4 basis-full md:basis-1/2 lg:basis-1/3`
   - Navigation buttons: `hidden sm:flex` with positioning via start/end

3. **VideoEmbed.tsx** - Lazy-loaded video with play overlay:
   - Use useState to track isPlaying state
   - Display fallback image when not playing (absolute positioned, object-cover)
   - Play button overlay: centered, 80x80px rounded-full bg-landing-primary
   - Play icon: lucide-react Play icon (w-10 h-10, white fill)
   - On click: set isPlaying=true to render YouTube iframe
   - iframe: autoplay=1, rel=0, loading="lazy"
   - Container: `aspect-video rounded-xl overflow-hidden bg-muted shadow-lg`
   - Add focus-visible styles for keyboard accessibility

4. **TestimonialsVideoSection.tsx** - Combined section:
   - Use SectionWrapper with `id="testimonials"` and `background="muted"`
   - Use SectionHeader with centered title and subtitle
   - Render TestimonialsCarousel in first subsection (mb-16 lg:mb-20)
   - Render video subsection with grid layout (grid-cols-1 lg:grid-cols-2 gap-8)
   - Video text on left (title h3, description p), VideoEmbed on right
   - Use `t.raw("testimonials")` with type assertion for testimonials array
   - Video config from translations: videoId, fallbackImage, title, playLabel

5. **index.ts** - Module exports:
   ```typescript
   export { TestimonialsVideoSection } from "./TestimonialsVideoSection";
   export { TestimonialsCarousel } from "./TestimonialsCarousel";
   export { TestimonialCard } from "./TestimonialCard";
   export { VideoEmbed } from "./VideoEmbed";
   ```
  </action>
  <verify>
    - `ls src/components/landing/TestimonialsVideo/` shows all 5 files
    - `grep -n "useReducedMotion" src/components/landing/TestimonialsVideo/TestimonialCard.tsx` finds reduced motion check
    - `grep -n "ui/carousel" src/components/landing/TestimonialsVideo/TestimonialsCarousel.tsx` finds carousel import
    - `grep -n "useState" src/components/landing/TestimonialsVideo/VideoEmbed.tsx` finds isPlaying state
    - `grep -n 'id="testimonials"' src/components/landing/TestimonialsVideo/TestimonialsVideoSection.tsx` finds section id
  </verify>
  <done>TestimonialsVideo components created with carousel, video embed, reduced motion support, and keyboard accessibility</done>
</task>

<task type="auto">
  <name>Task 2: Add translations for testimonials and video (en/he)</name>
  <files>
    messages/en.json
    messages/he.json
  </files>
  <action>
Add `testimonialsVideo` section to `landing` namespace in both translation files.

**English (messages/en.json)** - Add after `featureCards` section:
```json
"testimonialsVideo": {
  "heading": "What Our Investors Say",
  "subheading": "Join thousands of investors who trust REOS for their Israeli real estate journey",
  "ariaLabel": "Client testimonials and platform demonstration",
  "testimonials": [
    {
      "id": "testimonial-1",
      "quote": "REOS transformed how I manage my Israeli property investments. The deal flow tracking is exceptional.",
      "author": "Sarah Johnson",
      "role": "Real Estate Investor"
    },
    {
      "id": "testimonial-2",
      "quote": "The AI recommendations helped me find properties I would have never discovered on my own. Incredible platform.",
      "author": "Michael Chen",
      "role": "International Investor"
    },
    {
      "id": "testimonial-3",
      "quote": "From initial search to closing, REOS connected me with the right professionals every step of the way.",
      "author": "David Rosenberg",
      "role": "First-time Investor"
    },
    {
      "id": "testimonial-4",
      "quote": "The real-time communication features keep me updated on all my deals without constant phone calls.",
      "author": "Rachel Aviv",
      "role": "Property Developer"
    }
  ],
  "video": {
    "title": "See REOS in Action",
    "description": "Watch how REOS simplifies your investment journey from discovery to closing",
    "playLabel": "Play demonstration video",
    "videoId": "dQw4w9WgXcQ",
    "fallbackImage": "/images/landing/video-thumbnail.jpg"
  }
}
```

**Hebrew (messages/he.json)** - Add after `featureCards` section:
```json
"testimonialsVideo": {
  "heading": "מה אומרים המשקיעים שלנו",
  "subheading": "הצטרפו לאלפי משקיעים שסומכים על REOS במסע הנדל\"ן הישראלי שלהם",
  "ariaLabel": "המלצות לקוחות והדגמת הפלטפורמה",
  "testimonials": [
    {
      "id": "testimonial-1",
      "quote": "REOS שינתה את האופן שבו אני מנהל את ההשקעות שלי בנדל\"ן ישראלי. מעקב העסקאות יוצא דופן.",
      "author": "שרה כהן",
      "role": "משקיעת נדל\"ן"
    },
    {
      "id": "testimonial-2",
      "quote": "ההמלצות של הבינה המלאכותית עזרו לי למצוא נכסים שלעולם לא הייתי מגלה לבד. פלטפורמה מדהימה.",
      "author": "מיכאל לוי",
      "role": "משקיע בינלאומי"
    },
    {
      "id": "testimonial-3",
      "quote": "מהחיפוש הראשוני ועד הסגירה, REOS חיברה אותי עם אנשי המקצוע הנכונים בכל שלב.",
      "author": "דוד רוזנברג",
      "role": "משקיע מתחיל"
    },
    {
      "id": "testimonial-4",
      "quote": "תכונות התקשורת בזמן אמת מעדכנות אותי בכל העסקאות שלי בלי שיחות טלפון אינסופיות.",
      "author": "רחל אביב",
      "role": "יזמית נדל\"ן"
    }
  ],
  "video": {
    "title": "ראו את REOS בפעולה",
    "description": "צפו כיצד REOS מפשטת את מסע ההשקעה שלכם מגילוי ועד סגירה",
    "playLabel": "הפעל סרטון הדגמה",
    "videoId": "dQw4w9WgXcQ",
    "fallbackImage": "/images/landing/video-thumbnail.jpg"
  }
}
```

NOTE: videoId "dQw4w9WgXcQ" is a placeholder - replace with actual demo video ID when available.
  </action>
  <verify>
    - `grep -A 5 '"testimonialsVideo"' messages/en.json` shows heading and testimonials
    - `grep -A 5 '"testimonialsVideo"' messages/he.json` shows Hebrew heading and testimonials
    - `grep '"videoId"' messages/en.json` finds video configuration
    - Count 4 testimonials in each language file
  </verify>
  <done>English and Hebrew translations added with 4 testimonials and video configuration</done>
</task>

<task type="auto">
  <name>Task 3: Integrate TestimonialsVideoSection into landing page</name>
  <files>
    src/app/[locale]/(main)/page.tsx
  </files>
  <action>
Import and render TestimonialsVideoSection in the landing page.

1. Add import:
   ```typescript
   import { TestimonialsVideoSection } from "@/components/landing/TestimonialsVideo";
   ```

2. Insert TestimonialsVideoSection after FeatureCardsSection (or ServicesGrid if no FeatureCards):
   ```tsx
   {/* Feature Cards Section */}
   <FeatureCardsSection />

   {/* Testimonials & Video Section */}
   <TestimonialsVideoSection />

   {/* Geometric Divider or next section */}
   ```

This places the testimonials section to build social proof after showcasing platform features.

The section will be accessible via #testimonials hash anchor for navigation.
  </action>
  <verify>
    - `grep -n "TestimonialsVideoSection" src/app/[locale]/(main)/page.tsx` finds import and usage
    - `npm run build` completes without errors
    - Open http://localhost:3000/#testimonials scrolls to testimonials section
  </verify>
  <done>TestimonialsVideoSection integrated into landing page, accessible via #testimonials anchor</done>
</task>

</tasks>

<verification>
1. **Visual verification:**
   - Run `npm run dev` and visit http://localhost:3000
   - Scroll to testimonials section to see carousel with 4 testimonial cards
   - Use arrow buttons to navigate carousel (swipe on mobile)
   - See video section with thumbnail and play button
   - Click play button to load and autoplay YouTube video

2. **Carousel functionality:**
   - Arrow buttons navigate between testimonials
   - Swipe gestures work on touch devices
   - Carousel loops back to start after last item
   - Cards show staggered fade-in animation on scroll

3. **Video functionality:**
   - Fallback image displays before play
   - Play button has hover/focus states
   - Clicking play loads YouTube iframe with autoplay
   - Video is responsive (aspect-video)

4. **Accessibility verification:**
   - Enable reduced motion in OS settings
   - Hover over cards: should NOT animate (reduced motion respected)
   - Tab through carousel and play button: visible focus rings
   - Screen reader announces carousel navigation

5. **RTL verification:**
   - Switch to Hebrew locale
   - Carousel navigation direction should be correct (RTL)
   - Text alignment should be RTL
   - Play button position unchanged (centered)

6. **Hash navigation:**
   - Click Testimonials link in navbar (if added)
   - Page should scroll to testimonials section
</verification>

<success_criteria>
- [ ] 4 testimonial cards display with quotes, authors, and roles
- [ ] Carousel navigation works with arrow buttons
- [ ] Carousel supports swipe gestures on touch devices
- [ ] Carousel is RTL-aware in Hebrew locale
- [ ] Video thumbnail displays with centered play button
- [ ] Clicking play loads YouTube iframe with autoplay
- [ ] Cards have hover animation (scale 1.02x + y:-4px) on desktop
- [ ] Reduced motion users see no hover animations
- [ ] All interactive elements are keyboard accessible
- [ ] #testimonials anchor navigation works
- [ ] English and Hebrew translations display correctly
- [ ] Build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/51-testimonials-video/51-01-SUMMARY.md` using the summary template.

Include:
- Duration and task count
- Files created/modified list
- Pattern decisions (carousel with embla, video lazy loading, reduced motion support)
- Commit hashes for each task
- Ready for Phase 52
</output>
