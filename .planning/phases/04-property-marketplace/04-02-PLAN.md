---
phase: 04-property-marketplace
plan: 02
type: execute
---

<objective>
Create property listings page for the marketplace.

Purpose: Allow investors to browse available properties.
Output: Marketplace page with property cards showing key metrics.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-property-marketplace/04-01-SUMMARY.md

**Key files:**
@convex/properties.ts
@convex/schema.ts
@src/lib/constants.ts

**Tech stack available:** Next.js 16, Convex, Shadcn/ui, Tailwind v4
**Established patterns:** Two-column layouts, Card components, responsive grids
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PropertyCard component</name>
  <files>src/components/properties/PropertyCard.tsx</files>
  <action>
Create a reusable PropertyCard component displaying:

**Layout:**
- Featured image at top (with fallback placeholder if none)
- Property type badge (top-left overlay on image)
- Status badge if not "available" (top-right overlay)

**Content below image:**
- Title (truncate if long)
- City, Address (smaller text)
- Price in USD (large, bold) with ILS equivalent below
- Key metrics row: ROI %, Cap Rate %, Monthly Rent

**Footer:**
- Bedrooms/Bathrooms/Size icons with values
- "View Details" button or make whole card clickable

Use Shadcn Card component as base. Make it responsive (full width on mobile, fixed aspect ratio on desktop).

Props:
- property: Property object from Convex
- onClick?: () => void (for navigation)

Format currency with Intl.NumberFormat for USD and ILS.
  </action>
  <verify>Component renders without errors when imported</verify>
  <done>PropertyCard displays all property info attractively</done>
</task>

<task type="auto">
  <name>Task 2: Create marketplace listings page</name>
  <files>src/app/(app)/properties/page.tsx</files>
  <action>
Create marketplace page at /properties:

**Header section:**
- "Property Marketplace" title
- "Add Property" button (links to /properties/new)
- Future: filter/search controls (placeholder for Phase 5)

**Listings grid:**
- Use Convex useQuery to fetch available properties
- Display in responsive grid: 1 col mobile, 2 cols tablet, 3 cols desktop
- Each property uses PropertyCard component
- Click card navigates to /properties/[id]

**Empty state:**
- If no properties, show friendly message with "Add your first property" CTA

**Loading state:**
- Show skeleton cards while loading (use Skeleton component)

Use standard page padding (p-6) matching other pages.
  </action>
  <verify>npm run build succeeds, page renders at /properties</verify>
  <done>Marketplace shows property cards in responsive grid, navigation works</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PropertyCard component renders property data
- [ ] Marketplace page shows grid of properties
- [ ] Empty state displays when no properties
- [ ] Loading skeleton shows while fetching
- [ ] Clicking card navigates to detail page (404 ok for now)
- [ ] `npm run build` succeeds
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Properties display attractively in grid
- Responsive layout works on all screen sizes
</success_criteria>

<output>
After completion, create `.planning/phases/04-property-marketplace/04-02-SUMMARY.md`:

# Phase 4 Plan 2: Property Listings Page Summary

**[One-liner summarizing what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 04-03-PLAN.md: Property Detail Page
</output>
