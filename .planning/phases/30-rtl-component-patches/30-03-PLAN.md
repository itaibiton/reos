---
phase: 30-rtl-component-patches
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/Sidebar.tsx
  - src/app/[locale]/(app)/clients/[id]/page.tsx
  - src/app/[locale]/(app)/clients/page.tsx
  - src/app/[locale]/(app)/providers/[id]/page.tsx
  - src/app/[locale]/(app)/deals/[id]/page.tsx
  - src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx
  - src/app/[locale]/(app)/profile/[id]/page.tsx
  - src/app/[locale]/(app)/properties/[id]/page.tsx
  - src/components/chat/ChatThread.tsx
  - src/components/chat/ChatParticipantList.tsx
  - src/components/chat/DirectChatThread.tsx
  - src/components/dashboard/InvestorDashboard.tsx
  - src/components/dashboard/ProviderDashboard.tsx
autonomous: true

must_haves:
  truths:
    - "User in Hebrew mode sees back button arrows pointing RIGHT"
    - "User in Hebrew mode sees 'go to' arrows pointing LEFT"
    - "User in Hebrew mode sees sidebar collapsible indicator pointing LEFT when closed"
  artifacts:
    - path: "src/components/layout/Sidebar.tsx"
      provides: "RTL-flipping collapsible chevron"
      contains: "rtl:-scale-x-100"
    - path: "src/app/[locale]/(app)/properties/[id]/page.tsx"
      provides: "RTL-flipping back button"
      contains: "rtl:-scale-x-100"
  key_links:
    - from: "ArrowLeft01Icon"
      to: "back navigation"
      via: "rtl:-scale-x-100 flip"
      pattern: "ArrowLeft01Icon.*rtl:-scale-x-100"
    - from: "ArrowRight01Icon"
      to: "forward navigation"
      via: "rtl:-scale-x-100 flip"
      pattern: "ArrowRight01Icon.*rtl:-scale-x-100"
---

<objective>
Add RTL icon flipping to directional icons across application pages and components - back buttons (ArrowLeft01Icon) and "go to" actions (ArrowRight01Icon).

Purpose: In RTL layouts, directional icons must flip to maintain semantic meaning - "back" should point toward the reading start direction (right in RTL).

Output: All application pages with directional icons updated with `rtl:-scale-x-100` class.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/milestones/v1.4-ROADMAP.md
@.planning/STATE.md
@.planning/phases/30-rtl-component-patches/30-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add RTL flip to layout sidebar collapsible</name>
  <files>src/components/layout/Sidebar.tsx</files>
  <action>
Update src/components/layout/Sidebar.tsx to flip the ChevronRight collapsible indicator:

Find the ChevronRight in the Collapsible menu item (line ~107):
```tsx
<ChevronRight className="ms-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90" />
```

Change to:
```tsx
<ChevronRight className="ms-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90 rtl:-scale-x-100" />
```

This makes the chevron point LEFT when collapsed in RTL mode (indicating "expand to see more" in the reading direction).
  </action>
  <verify>Run `grep "rtl:-scale-x-100" src/components/layout/Sidebar.tsx` - should find the chevron class</verify>
  <done>Sidebar collapsible chevron flips appropriately in RTL mode</done>
</task>

<task type="auto">
  <name>Task 2: Add RTL flip to back button icons (ArrowLeft01Icon)</name>
  <files>
    src/app/[locale]/(app)/clients/[id]/page.tsx
    src/app/[locale]/(app)/providers/[id]/page.tsx
    src/app/[locale]/(app)/deals/[id]/page.tsx
    src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx
    src/app/[locale]/(app)/profile/[id]/page.tsx
    src/app/[locale]/(app)/properties/[id]/page.tsx
    src/components/chat/ChatThread.tsx
    src/components/chat/ChatParticipantList.tsx
    src/components/chat/DirectChatThread.tsx
  </files>
  <action>
Add `rtl:-scale-x-100` class to all ArrowLeft01Icon usages that represent "back" navigation:

1. **src/app/[locale]/(app)/clients/[id]/page.tsx** (line ~230):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1" />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1 rtl:-scale-x-100" />`

2. **src/app/[locale]/(app)/providers/[id]/page.tsx** (line ~173):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1" />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1 rtl:-scale-x-100" />`

3. **src/app/[locale]/(app)/deals/[id]/page.tsx** (line ~545):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} strokeWidth={2} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} strokeWidth={2} className="rtl:-scale-x-100" />`

4. **src/app/[locale]/(app)/profile/investor/questionnaire/page.tsx** (line ~312):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="rtl:-scale-x-100" />`

5. **src/app/[locale]/(app)/profile/[id]/page.tsx** (line ~82):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1" />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} className="me-1 rtl:-scale-x-100" />`

6. **src/app/[locale]/(app)/properties/[id]/page.tsx** (line ~210):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} strokeWidth={2} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={16} strokeWidth={2} className="rtl:-scale-x-100" />`

7. **src/components/chat/ChatThread.tsx** (line ~119):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} className="rtl:-scale-x-100" />`

8. **src/components/chat/ChatParticipantList.tsx** (line ~207):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} className="rtl:-scale-x-100" />`

9. **src/components/chat/DirectChatThread.tsx** (line ~126):
   Find: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} />`
   Change to: `<HugeiconsIcon icon={ArrowLeft01Icon} size={20} className="rtl:-scale-x-100" />`
  </action>
  <verify>Run `grep -r "ArrowLeft01Icon.*rtl:-scale-x-100" src/` to verify all back buttons have the flip class</verify>
  <done>All back button arrows flip to point RIGHT in RTL mode</done>
</task>

<task type="auto">
  <name>Task 3: Add RTL flip to forward navigation icons (ArrowRight01Icon)</name>
  <files>
    src/app/[locale]/(app)/clients/page.tsx
    src/components/dashboard/InvestorDashboard.tsx
    src/components/dashboard/ProviderDashboard.tsx
  </files>
  <action>
Add `rtl:-scale-x-100` class to all ArrowRight01Icon usages that represent "go to" or forward navigation:

1. **src/app/[locale]/(app)/clients/page.tsx** (line ~148):
   Find: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} className="ms-1" />`
   Change to: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} className="ms-1 rtl:-scale-x-100" />`

2. **src/components/dashboard/InvestorDashboard.tsx** (line ~180):
   Find: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} />`
   Change to: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} className="rtl:-scale-x-100" />`

3. **src/components/dashboard/ProviderDashboard.tsx** (lines ~362 and ~411):
   Find all: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} />`
   Change to: `<HugeiconsIcon icon={ArrowRight01Icon} size={14} className="rtl:-scale-x-100" />`

Note: There are 2 usages in ProviderDashboard.tsx - update both.
  </action>
  <verify>Run `grep -r "ArrowRight01Icon.*rtl:-scale-x-100" src/` to verify all forward navigation icons have the flip class</verify>
  <done>All forward navigation arrows flip to point LEFT in RTL mode</done>
</task>

</tasks>

<verification>
1. Start the dev server: `npm run dev`
2. Navigate to Hebrew mode (`/he/`)
3. Test each page with back buttons:
   - `/he/clients/[id]` - Back button arrow should point RIGHT
   - `/he/providers/[id]` - Back button arrow should point RIGHT
   - `/he/deals/[id]` - Back button arrow should point RIGHT
   - `/he/profile/[id]` - Back button arrow should point RIGHT
   - `/he/properties/[id]` - Back button arrow should point RIGHT
   - `/he/profile/investor/questionnaire` - Back button arrow should point RIGHT
4. Test chat components in Hebrew mode:
   - Mobile back buttons in chat should point RIGHT
5. Test forward navigation in Hebrew mode:
   - `/he/clients` - "View" arrows should point LEFT
   - Dashboard "View all" arrows should point LEFT
6. Test sidebar in Hebrew mode:
   - Collapsed collapsible menus should have chevron pointing LEFT
7. Compare with English mode - all arrows should point opposite directions
</verification>

<success_criteria>
- All back buttons point RIGHT in RTL mode (toward reading start)
- All forward/"go to" buttons point LEFT in RTL mode (toward reading direction)
- Sidebar collapsible chevrons flip correctly
- Icons look natural and don't cause confusion about navigation direction
</success_criteria>

<output>
After completion, create `.planning/phases/30-rtl-component-patches/30-03-SUMMARY.md`
</output>
