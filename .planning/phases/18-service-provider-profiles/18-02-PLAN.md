---
phase: 18-service-provider-profiles
plan: 02
type: execute
---

<objective>
Create public-facing provider profile page with reviews, ratings, and portfolio showcase.

Purpose: Allow investors to view provider profiles publicly, see their ratings/reviews, and portfolio of completed deals before requesting services.
Output: Provider profile page at /providers/[id] with profile header, stats, reviews list, and portfolio section.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/18-service-provider-profiles/18-01-SUMMARY.md
@convex/serviceProviderProfiles.ts
@src/app/(app)/clients/[id]/page.tsx

**Prior context:**
- Phase 18-01 created reviews schema and backend queries
- getPublicProfile query returns combined profile data
- Client detail page pattern at /clients/[id] for reference
- Two-column layouts used throughout app
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create provider profile page with header and stats</name>
  <files>src/app/(app)/providers/[id]/page.tsx</files>
  <action>
Create public provider profile page at /providers/[id]:

**Header section:**
- Large avatar with fallback initials
- Provider name and role badge (Broker, Mortgage Advisor, Lawyer)
- Company name (if set)
- Star rating display with review count
- Contact button (links to deal creation or shows contact preference)

**Stats row:**
- Average rating (stars + numeric)
- Total reviews
- Completed deals
- Years experience

**About section:**
- Bio text (or "No bio provided" placeholder)
- Specializations as badges
- Service areas as badges
- Languages spoken

Use existing patterns:
- Avatar from Shadcn
- Badge component for role/specializations
- Card components for sections
- Loading skeleton matching layout

Call getPublicProfile query with providerId from params.
Handle: loading state, provider not found state.
  </action>
  <verify>npm run build passes, page renders at /providers/[id]</verify>
  <done>Provider profile page shows header, stats, and about section</done>
</task>

<task type="auto">
  <name>Task 2: Add reviews list and portfolio showcase sections</name>
  <files>src/app/(app)/providers/[id]/page.tsx, src/components/providers/ReviewCard.tsx, src/components/providers/PortfolioCard.tsx</files>
  <action>
Extend provider profile page with two additional sections:

**Reviews section:**
- Create ReviewCard component: reviewer avatar/name, star rating, review text, date, property title context
- Display 5 most recent reviews from getPublicProfile data
- "No reviews yet" empty state
- Each review shows which property/deal it relates to

**Portfolio section:**
- Create PortfolioCard component: property image thumbnail, title, city, final sale price (if available), completion date
- Display last 5 completed deals
- "No completed deals yet" empty state

**Layout:**
- Two-column layout on lg+ screens
- Left column (2/3): About section + Reviews
- Right column (1/3): Stats card + Portfolio

Use existing patterns:
- Card, CardHeader, CardContent from Shadcn
- Property image thumbnails similar to deal cards
- Star rating display (can use simple â˜… characters or create StarRating component)
  </action>
  <verify>npm run build passes, reviews and portfolio sections render correctly</verify>
  <done>Reviews display with reviewer info and ratings, portfolio shows completed deals with property thumbnails</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Public provider profile page with ratings, reviews, and portfolio showcase</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Login as any user
    3. Navigate to /providers/[provider-id] (get a provider ID from Convex dashboard)
    4. Verify: Profile header shows name, role, avatar, rating
    5. Verify: Stats row displays correctly
    6. Verify: About section shows bio, specializations, service areas
    7. Verify: Reviews section shows reviews or empty state
    8. Verify: Portfolio section shows completed deals or empty state
    9. Test responsive: Check mobile layout (single column)
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Provider profile page accessible at /providers/[id]
- [ ] All sections render correctly with data
- [ ] Empty states display when no reviews/deals
- [ ] Mobile responsive layout works
</verification>

<success_criteria>
- All tasks completed
- Human verification approved
- Provider profiles publicly viewable
- Reviews and portfolio showcase working
- Phase 18 complete
</success_criteria>

<output>
After completion, create `.planning/phases/18-service-provider-profiles/18-02-SUMMARY.md`
</output>
